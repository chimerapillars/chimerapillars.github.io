{"version":3,"sources":["../node_modules/web3-provider-engine/node_modules/async/eachOf.js","../node_modules/web3-provider-engine/node_modules/async/internal/breakLoop.js","../node_modules/web3-provider-engine/node_modules/async/internal/eachOfLimit.js","../node_modules/web3-provider-engine/node_modules/async/internal/doLimit.js","../node_modules/eth-json-rpc-errors/src/utils.js","../node_modules/web3-provider-engine/subproviders/json-rpc-engine-middleware.js","../node_modules/web3-provider-engine/index.js","../node_modules/web3-provider-engine/node_modules/keccak/js.js","../node_modules/web3-provider-engine/node_modules/keccak/lib/api/index.js","../node_modules/web3-provider-engine/node_modules/keccak/lib/api/keccak.js","../node_modules/web3-provider-engine/node_modules/keccak/lib/api/shake.js","../node_modules/web3-provider-engine/node_modules/keccak/lib/keccak.js","../node_modules/web3-provider-engine/node_modules/keccak/lib/keccak-state-unroll.js","../node_modules/web3-provider-engine/node_modules/async/map.js","../node_modules/web3-provider-engine/node_modules/async/internal/doParallel.js","../node_modules/web3-provider-engine/node_modules/async/eachOfLimit.js","../node_modules/web3-provider-engine/node_modules/async/internal/iterator.js","../node_modules/web3-provider-engine/node_modules/async/internal/getIterator.js","../node_modules/web3-provider-engine/node_modules/async/asyncify.js","../node_modules/web3-provider-engine/node_modules/async/internal/initialParams.js","../node_modules/web3-provider-engine/node_modules/async/internal/setImmediate.js","../node_modules/web3-provider-engine/node_modules/async/internal/map.js","../node_modules/web3-provider-engine/node_modules/async/eachSeries.js","../node_modules/web3-provider-engine/node_modules/async/eachLimit.js","../node_modules/web3-provider-engine/node_modules/async/internal/withoutIndex.js","../node_modules/web3-provider-engine/util/stoplight.js","../node_modules/web3-provider-engine/util/rpc-cache-utils.js","../node_modules/web3-provider-engine/util/random-id.js","../node_modules/web3-provider-engine/subproviders/rpc.js","../node_modules/eth-json-rpc-errors/index.js","../node_modules/eth-json-rpc-errors/src/errors.js","../node_modules/web3-provider-engine/subproviders/hooked-wallet.js","../node_modules/web3-provider-engine/node_modules/async/waterfall.js","../node_modules/web3-provider-engine/node_modules/async/parallel.js","../node_modules/web3-provider-engine/node_modules/async/internal/parallel.js","../node_modules/web3-provider-engine/node_modules/eth-sig-util/index.js","../node_modules/web3-provider-engine/util/estimate-gas.js","../node_modules/web3-provider-engine/subproviders/subscriptions.js","../node_modules/web3-provider-engine/subproviders/filters.js","../node_modules/bnc-onboard/dist/esm/providerEngine-b31128a1.js","../node_modules/web3-provider-engine/node_modules/async/internal/wrapAsync.js","../node_modules/web3-provider-engine/node_modules/safe-buffer/index.js","../node_modules/web3-provider-engine/node_modules/async/internal/slice.js","../node_modules/web3-provider-engine/util/create-payload.js","../node_modules/xhr/index.js","../node_modules/global/window.js","../node_modules/is-function/index.js","../node_modules/parse-headers/parse-headers.js","../node_modules/web3-provider-engine/node_modules/ethereumjs-util/dist/index.js","../node_modules/web3-provider-engine/node_modules/async/internal/once.js","../node_modules/web3-provider-engine/node_modules/async/internal/onlyOnce.js","../node_modules/web3-provider-engine/subproviders/subprovider.js","../node_modules/eth-json-rpc-errors/src/classes.js"],"names":["Object","defineProperty","exports","value","default","coll","iteratee","callback","_isArrayLike2","eachOfArrayLike","eachOfGeneric","_wrapAsync2","_interopRequireDefault","require","_breakLoop2","_eachOfLimit2","_doLimit2","_noop2","_once2","_onlyOnce2","obj","__esModule","index","completed","length","iteratorCallback","err","Infinity","module","limit","nextElem","_iterator2","done","running","looping","iterateeCallback","replenish","elem","key","fn","iterable","errorValues","FALLBACK_ERROR_CODE","rpc","internal","EthereumRpcError","JSON_RPC_SERVER_ERROR_MESSAGE","FALLBACK_MESSAGE","FALLBACK_ERROR","code","message","getMessageFromCode","fallbackMessage","Number","isInteger","codeString","toString","isJsonRpcServerError","isValidCode","assignOriginalError","error","Array","isArray","assign","serializeError","fallbackError","Error","serialize","serialized","hasOwnProperty","data","originalError","stack","JsonRpcEngineMiddlewareSubprovider","constructorFn","_constructorFn","engine","this","middleware","blockTracker","_blockTracker","provider","req","provEngNext","provEngEnd","res","id","handler","result","cb","EventEmitter","inherits","ethUtil","EthBlockTracker","map","eachSeries","Stoplight","createPayload","Web3ProviderEngine","opts","self","call","setMaxListeners","directProvider","sendAsync","_handleAsync","bind","blockTrackerProvider","pollingInterval","setSkipCacheFlag","_ready","currentBlock","_providers","toBufferBlock","jsonBlock","number","toBuffer","hash","parentHash","nonce","mixHash","sha3Uncles","logsBloom","transactionsRoot","stateRoot","receiptsRoot","receiptRoot","miner","difficulty","totalDifficulty","size","extraData","gasLimit","gasUsed","timestamp","transactions","prototype","start","go","on","blockNumber","_getBlockByNumberWithRetry","block","emit","console","log","bufferBlock","_setCurrentBlock","_running","stop","removeAllListeners","isRunning","addProvider","source","splice","push","setEngine","removeProvider","indexOf","send","payload","await","retriesRemaining","attemptRequest","_getBlockByNumber","afterRequest","setTimeout","method","params","skipCache","finished","currentProvider","end","_error","_result","resultObj","jsonrpc","next","after","unshift","handleRequest","e","createKeccak","createShake","KeccakState","Keccak","Shake","algorithm","options","toLowerCase","Buffer","Transform","rate","capacity","delimitedSuffix","hashBitLength","_rate","_capacity","_delimitedSuffix","_hashBitLength","_options","_state","initialize","_finalized","_transform","chunk","encoding","update","_flush","digest","isBuffer","TypeError","from","absorb","absorbLastFewBits","squeeze","undefined","_resetState","_clone","clone","copy","_read","dataByteLength","keccakState","state","blockSize","count","squeezing","i","p1600","bits","output","alloc","dest","P1600_ROUND_CONSTANTS","s","round","lo0","hi0","lo1","hi1","lo2","hi2","lo3","hi3","lo4","hi4","lo","hi","t1slo0","t1shi0","t1slo5","t1shi5","t1slo10","t1shi10","t1slo15","t1shi15","t1slo20","t1shi20","t1slo1","t1shi1","t1slo6","t1shi6","t1slo11","t1shi11","t1slo16","t1shi16","t1slo21","t1shi21","t1slo2","t1shi2","t1slo7","t1shi7","t1slo12","t1shi12","t1slo17","t1shi17","t1slo22","t1shi22","t1slo3","t1shi3","t1slo8","t1shi8","t1slo13","t1shi13","t1slo18","t1shi18","t1slo23","t1shi23","t1slo4","t1shi4","t1slo9","t1shi9","t1slo14","t1shi14","t1slo19","t1shi19","t1slo24","t1shi24","t2slo0","t2shi0","t2slo16","t2shi16","t2slo7","t2shi7","t2slo23","t2shi23","t2slo14","t2shi14","t2slo10","t2shi10","t2slo1","t2shi1","t2slo17","t2shi17","t2slo8","t2shi8","t2slo24","t2shi24","t2slo20","t2shi20","t2slo11","t2shi11","t2slo2","t2shi2","t2slo18","t2shi18","t2slo9","t2shi9","t2slo5","t2shi5","t2slo21","t2shi21","t2slo12","t2shi12","t2slo3","t2shi3","t2slo19","t2shi19","t2slo15","t2shi15","t2slo6","t2shi6","t2slo22","t2shi22","t2slo13","t2shi13","t2slo4","t2shi4","_doParallel2","_map2","_eachOf2","_eachOfLimit3","len","createArrayIterator","iterator","_getIterator2","item","createES2015Iterator","okeys","_keys2","createObjectIterator","iteratorSymbol","Symbol","func","_initialParams2","args","apply","_isObject2","then","invokeCallback","_setImmediate2","rethrow","_slice2","arguments","pop","_slice","hasNextTick","hasSetImmediate","fallback","wrap","_defer","setImmediate","process","nextTick","defer","eachfn","arr","results","counter","_iteratee","_","v","_eachLimit2","_withoutIndex2","isLocked","once","stringify","canCache","cacheTypeForPayload","paramsWithoutBlockTag","blockTagParamIndex","slice","cacheIdentifierForPayload","includeBlockRef","blockTagForPayload","Math","floor","MAX_SAFE_INTEGER","random","xhr","browser","Subprovider","ethErrors","RpcSource","rpcUrl","targetUrl","sanitizedPayload","sanitizePayload","newPayload","uri","headers","body","JSON","rejectUnauthorized","timeout","statusCode","methodNotFound","msg","parse","EthereumProviderError","ERROR_CODES","getEthJsonRpcError","validateOpts","getEthProviderError","invalidRequest","invalidParams","server","invalidInput","resourceNotFound","resourceUnavailable","transactionRejected","methodNotSupported","userRejectedRequest","unauthorized","unsupportedMethod","custom","waterfall","parallel","sigUtil","extend","Semaphore","estimateGas","hexRegex","HookedWalletSubprovider","nonceLock","getAccounts","processTransaction","processMessage","processPersonalMessage","processTypedMessage","approveTransaction","autoApprove","approveMessage","approvePersonalMessage","approveDecryptMessage","approveEncryptionPublicKey","approveTypedMessage","signTransaction","mustProvideInConstructor","signMessage","signPersonalMessage","decryptMessage","encryptionPublicKey","signTypedMessage","recoverPersonalSignature","publishTransaction","getGasPrice","string","resemblesAddress","fixed","addHexPrefix","isValidAddress","resemblesData","isValidHex","match","methodName","txParams","msgParams","extraParams","address","_parityRequests","_parityRequestCount","accounts","validateTransaction","processSignTransaction","validateMessage","first","warn","warning","validatePersonalMessage","validateDecryptMessage","processDecryptMessage","validateEncryptionPublicKey","processEncryptionPublicKey","signature","sig","second","validateTypedMessage","parityPostTransaction","parityPostSign","requestId","parityCheckRequest","account","didApprove","checkApproval","finalizeAndSubmitTx","finalizeTx","type","reqId","emitPayload","txHash","senderHex","validateSender","senderIsValid","senderAddress","take","fillInTxExtras","leave","signedTx","raw","tx","rawTx","tasks","gasPrice","gas","to","cloneTxParams","taskResults","_isArray2","taskIndex","nextTask","task","_parallel2","ethAbi","typedSignatureHash","typedData","types","schema","name","soliditySHA3","fill","recoverPublicKey","sigParams","fromRpcSig","ecrecover","r","getPublicKeyFor","hashPersonalMessage","padWithZeroes","myString","concatSig","rSig","fromSigned","sSig","vSig","bufferToInt","rStr","toUnsigned","sStr","vStr","stripHexPrefix","intToHex","concat","normalize","input","buffer","bufferToHex","personalSign","privateKey","msgHash","ecsign","publicKey","sender","publicToAddress","extractPublicKey","hashBuffer","signTypedData","recoverTypedSignature","ProviderSubprovider","createSubscriptionManager","SubscriptionsSubprovider","events","createFilterMiddleware","createProvider","config","get_store_value","app","blockPollingInterval","idMgmt","rpcSubProvider","includes","SubscriptionSubprovider","FilterSubprovider","isAsync","_asyncify","_asyncify2","supportsSymbol","toStringTag","asyncFn","copyProps","src","dst","SafeBuffer","arg","encodingOrOffset","allocUnsafe","allocUnsafeSlow","buf","SlowBuffer","arrayLike","newLen","max","newArr","idx","getRandomId","window","isFunction","parseHeaders","xtend","initParams","createXHR","_createXHR","called","response","getBody","responseText","responseType","responseXML","firefoxBugTakenEffect","documentElement","nodeName","getXml","isJson","errorFunc","evt","clearTimeout","timeoutTimer","failureResponse","loadFunc","aborted","status","useXDR","url","rawRequest","getAllResponseHeaders","cors","XDomainRequest","XMLHttpRequest","sync","json","onreadystatechange","readyState","onload","onerror","onprogress","onabort","ontimeout","open","username","password","withCredentials","abort","setRequestHeader","isEmpty","beforeSend","array","forEachArray","toUpperCase","win","global","alert","confirm","prompt","trim","replace","headersArr","split","row","_typeof","constructor","createKeccakHash","secp256k1","assert","rlp","BN","createHash","MAX_INTEGER","TWO_POW256","KECCAK256_NULL_S","SHA3_NULL_S","KECCAK256_NULL","SHA3_NULL","KECCAK256_RLP_ARRAY_S","SHA3_RLP_ARRAY_S","KECCAK256_RLP_ARRAY","SHA3_RLP_ARRAY","KECCAK256_RLP_S","SHA3_RLP_S","KECCAK256_RLP","SHA3_RLP","zeros","bytes","zeroAddress","setLengthLeft","setLength","right","setLengthRight","unpad","stripZeros","a","isHexString","padToEven","intToBuffer","isBN","toArrayLike","toArray","toNumber","num","fromTwos","toTwos","keccak","keccak256","sha3","sha256","ripemd160","padded","rlphash","encode","isValidPrivate","privateKeyVerify","isValidPublic","sanitize","publicKeyVerify","pubToAddress","pubKey","publicKeyConvert","privateToPublic","publicKeyCreate","importPublic","sign","ret","recovery","prefix","senderPubKey","recover","toRpcSig","privateToAddress","test","isZeroAddress","toChecksumAddress","parseInt","isValidChecksumAddress","generateAddress","isZero","isPrecompiled","str","isHexPrefixed","isValidSignature","homestead","SECP256K1_N_DIV_2","SECP256K1_N","gt","cmp","baToJSON","ba","defineProperties","fields","_fields","toJSON","label","forEach","field","getter","setter","allowZero","allowLess","enumerable","configurable","get","set","alias","decode","d","keys","callFn","SubProvider","safeStringify","stringifyReplacer","isValidEthProviderCode"],"mappings":"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","file":"static/js/3.565cd5b1.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (coll, iteratee, callback) {\n    var eachOfImplementation = (0, _isArrayLike2.default)(coll) ? eachOfArrayLike : eachOfGeneric;\n    eachOfImplementation(coll, (0, _wrapAsync2.default)(iteratee), callback);\n};\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _breakLoop = require('./internal/breakLoop');\n\nvar _breakLoop2 = _interopRequireDefault(_breakLoop);\n\nvar _eachOfLimit = require('./eachOfLimit');\n\nvar _eachOfLimit2 = _interopRequireDefault(_eachOfLimit);\n\nvar _doLimit = require('./internal/doLimit');\n\nvar _doLimit2 = _interopRequireDefault(_doLimit);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _once = require('./internal/once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _onlyOnce = require('./internal/onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// eachOf implementation optimized for array-likes\nfunction eachOfArrayLike(coll, iteratee, callback) {\n    callback = (0, _once2.default)(callback || _noop2.default);\n    var index = 0,\n        completed = 0,\n        length = coll.length;\n    if (length === 0) {\n        callback(null);\n    }\n\n    function iteratorCallback(err, value) {\n        if (err) {\n            callback(err);\n        } else if (++completed === length || value === _breakLoop2.default) {\n            callback(null);\n        }\n    }\n\n    for (; index < length; index++) {\n        iteratee(coll[index], index, (0, _onlyOnce2.default)(iteratorCallback));\n    }\n}\n\n// a generic version of eachOf which can handle array, object, and iterator cases.\nvar eachOfGeneric = (0, _doLimit2.default)(_eachOfLimit2.default, Infinity);\n\n/**\n * Like [`each`]{@link module:Collections.each}, except that it passes the key (or index) as the second argument\n * to the iteratee.\n *\n * @name eachOf\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEachOf\n * @category Collection\n * @see [async.each]{@link module:Collections.each}\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each\n * item in `coll`.\n * The `key` is the item's key, or index in the case of an array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * var obj = {dev: \"/dev.json\", test: \"/test.json\", prod: \"/prod.json\"};\n * var configs = {};\n *\n * async.forEachOf(obj, function (value, key, callback) {\n *     fs.readFile(__dirname + value, \"utf8\", function (err, data) {\n *         if (err) return callback(err);\n *         try {\n *             configs[key] = JSON.parse(data);\n *         } catch (e) {\n *             return callback(e);\n *         }\n *         callback();\n *     });\n * }, function (err) {\n *     if (err) console.error(err.message);\n *     // configs is now a map of JSON data\n *     doSomethingWith(configs);\n * });\n */\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// A temporary value used to identify if the loop should be broken.\n// See #1064, #1293\nexports.default = {};\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _eachOfLimit;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _once = require('./once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _iterator = require('./iterator');\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _onlyOnce = require('./onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _breakLoop = require('./breakLoop');\n\nvar _breakLoop2 = _interopRequireDefault(_breakLoop);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _eachOfLimit(limit) {\n    return function (obj, iteratee, callback) {\n        callback = (0, _once2.default)(callback || _noop2.default);\n        if (limit <= 0 || !obj) {\n            return callback(null);\n        }\n        var nextElem = (0, _iterator2.default)(obj);\n        var done = false;\n        var running = 0;\n        var looping = false;\n\n        function iterateeCallback(err, value) {\n            running -= 1;\n            if (err) {\n                done = true;\n                callback(err);\n            } else if (value === _breakLoop2.default || done && running <= 0) {\n                done = true;\n                return callback(null);\n            } else if (!looping) {\n                replenish();\n            }\n        }\n\n        function replenish() {\n            looping = true;\n            while (running < limit && !done) {\n                var elem = nextElem();\n                if (elem === null) {\n                    done = true;\n                    if (running <= 0) {\n                        callback(null);\n                    }\n                    return;\n                }\n                running += 1;\n                iteratee(elem.value, elem.key, (0, _onlyOnce2.default)(iterateeCallback));\n            }\n            looping = false;\n        }\n\n        replenish();\n    };\n}\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = doLimit;\nfunction doLimit(fn, limit) {\n    return function (iterable, iteratee, callback) {\n        return fn(iterable, limit, iteratee, callback);\n    };\n}\nmodule.exports = exports[\"default\"];","\nconst errorValues = require('./errorValues.json')\nconst FALLBACK_ERROR_CODE = require('./errorCodes.json').rpc.internal\nconst { EthereumRpcError } = require('./classes')\n\nconst JSON_RPC_SERVER_ERROR_MESSAGE = 'Unspecified server error.'\n\nconst FALLBACK_MESSAGE = 'Unspecified error message. This is a bug, please report it.'\n\nconst FALLBACK_ERROR = {\n  code: FALLBACK_ERROR_CODE,\n  message: getMessageFromCode(FALLBACK_ERROR_CODE)\n}\n\n/**\n * Gets the message for a given code, or a fallback message if the code has\n * no corresponding message.\n * \n * @param {number} code - The integer error code\n * @param {string} fallbackMessage - The fallback message\n * @return {string} The corresponding message or the fallback message\n */\nfunction getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {\n\n  if (Number.isInteger(code)) {\n\n    const codeString = code.toString()\n    if (errorValues[codeString]) return errorValues[codeString].message\n\n    if (isJsonRpcServerError(code)) return JSON_RPC_SERVER_ERROR_MESSAGE\n\n    // TODO: allow valid codes and messages to be extended\n    // // EIP 1193 Status Codes\n    // if (code >= 4000 && code <= 4999) return Something?\n  }\n  return fallbackMessage\n}\n\n/**\n * Returns whether the given code is valid.\n * A code is only valid if it has a message.\n * \n * @param {number} code - The code to check\n * @return {boolean} true if the code is valid, false otherwise.\n */\nfunction isValidCode(code) {\n\n  if (!Number.isInteger(code)) return false\n\n  const codeString = code.toString()\n  if (errorValues[codeString]) return true\n\n  if (isJsonRpcServerError(code)) return true\n\n  // TODO: allow valid codes and messages to be extended\n  // // EIP 1193 Status Codes\n  // if (code >= 4000 && code <= 4999) return true\n\n  return false\n}\n\n/**\n * Serializes the given error to an Ethereum JSON RPC-compatible error object.\n * Merely copies the given error's values if it is already compatible.\n * If the given error is not fully compatible, it will be preserved on the\n * returned object's data.originalError property.\n * Adds a 'stack' property if it exists on the given error.\n *\n * @param {any} error - The error to serialize.\n * @param {object} fallbackError - The custom fallback error values if the\n * given error is invalid.\n * @return {object} A standardized error object.\n */\nfunction serializeError (error, fallbackError = FALLBACK_ERROR) {\n\n  if (\n    !fallbackError || \n    !Number.isInteger(fallbackError.code) ||\n    typeof fallbackError.message !== 'string'\n  ) {\n    throw new Error(\n      'fallbackError must contain integer number code and string message.'\n    )\n  }\n\n  if (error instanceof EthereumRpcError) {\n    return error.serialize()\n  }\n\n  const serialized = {}\n\n  if (error && isValidCode(error.code)) {\n\n    serialized.code = error.code\n\n    if (error.message && typeof error.message === 'string') {\n      serialized.message = error.message\n      if (error.hasOwnProperty('data')) serialized.data = error.data\n    } else {\n      serialized.message = getMessageFromCode(serialized.code)\n      serialized.data = { originalError: assignOriginalError(error) }\n    }\n\n  } else {\n    serialized.code = fallbackError.code\n    serialized.message = (\n      error && error.message\n        ? error.message\n        : fallbackError.message\n    )\n    serialized.data = { originalError: assignOriginalError(error) }\n  }\n\n  if (error && error.stack) serialized.stack = error.stack\n  return serialized\n}\n\n// Internal\n\nfunction isJsonRpcServerError (code) {\n  return code >= -32099 && code <= -32000\n}\n\nfunction assignOriginalError (error) {\n  if (error && typeof error === 'object' && !Array.isArray(error)) {\n    return Object.assign({}, error)\n  }\n  return error\n}\n\n// Exports\n\nmodule.exports = {\n  getMessageFromCode,\n  isValidCode,\n  serializeError,\n  JSON_RPC_SERVER_ERROR_MESSAGE,\n}\n","const Subprovider = require('./subprovider.js')\n\n// wraps a json-rpc-engine middleware in a subprovider interface\n\nclass JsonRpcEngineMiddlewareSubprovider extends Subprovider {\n\n  // take a constructorFn to call once we have a reference to the engine\n  constructor (constructorFn) {\n    super()\n    if (!constructorFn) throw new Error('JsonRpcEngineMiddlewareSubprovider - no constructorFn specified')\n    this._constructorFn = constructorFn\n  }\n\n  // this is called once the subprovider has been added to the provider engine\n  setEngine (engine) {\n    if (this.middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice')\n    const blockTracker = engine._blockTracker\n    const middleware = this._constructorFn({ engine, provider: engine, blockTracker })\n    if (!middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware')\n    if (typeof middleware !== 'function') throw new Error('JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function')\n    this.middleware = middleware\n  }\n\n  handleRequest (req, provEngNext, provEngEnd) {\n    const res = { id: req.id }\n    this.middleware(req, res, middlewareNext, middlewareEnd)\n\n    function middlewareNext (handler) {\n      provEngNext((err, result, cb) => {\n        // update response object with result or error\n        if (err) {\n          delete res.result\n          res.error = { message: err.message || err }\n        } else {\n          res.result = result\n        }\n        // call middleware's next handler (even if error)\n        if (handler) {\n          handler(cb)\n        } else {\n          cb()\n        }\n      })\n    }\n\n    function middlewareEnd (err) {\n      if (err) return provEngEnd(err)\n      provEngEnd(null, res.result)\n    }\n  }\n\n}\n\nmodule.exports = JsonRpcEngineMiddlewareSubprovider\n","const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst EthBlockTracker = require('eth-block-tracker')\nconst map = require('async/map')\nconst eachSeries = require('async/eachSeries')\nconst Stoplight = require('./util/stoplight.js')\nconst cacheUtils = require('./util/rpc-cache-utils.js')\nconst createPayload = require('./util/create-payload.js')\nconst noop = function(){}\n\nmodule.exports = Web3ProviderEngine\n\n\ninherits(Web3ProviderEngine, EventEmitter)\n\nfunction Web3ProviderEngine(opts) {\n  const self = this\n  EventEmitter.call(self)\n  self.setMaxListeners(30)\n  // parse options\n  opts = opts || {}\n\n  // block polling\n  const directProvider = { sendAsync: self._handleAsync.bind(self) }\n  const blockTrackerProvider = opts.blockTrackerProvider || directProvider\n  self._blockTracker = opts.blockTracker || new EthBlockTracker({\n    provider: blockTrackerProvider,\n    pollingInterval: opts.pollingInterval || 4000,\n    setSkipCacheFlag: true,\n  })\n\n  // set initialization blocker\n  self._ready = new Stoplight()\n\n  // local state\n  self.currentBlock = null\n  self._providers = []\n}\n\n// public\n\nWeb3ProviderEngine.prototype.start = function(cb = noop){\n  const self = this\n\n  // trigger start\n  self._ready.go()\n\n  // on new block, request block body and emit as events\n  self._blockTracker.on('latest', (blockNumber) => {\n    // get block body\n    self._getBlockByNumberWithRetry(blockNumber, (err, block) => {\n      if (err) {\n        this.emit('error', err)\n        return\n      }\n      if (!block) {\n        console.log(block)\n        this.emit('error', new Error(\"Could not find block\"))\n        return\n      }\n      const bufferBlock = toBufferBlock(block)\n      // set current + emit \"block\" event\n      self._setCurrentBlock(bufferBlock)\n      // emit other events\n      self.emit('rawBlock', block)\n      self.emit('latest', block)\n    })\n  })\n\n  // forward other events\n  self._blockTracker.on('sync', self.emit.bind(self, 'sync'))\n  self._blockTracker.on('error', self.emit.bind(self, 'error'))\n\n  // update state\n  self._running = true\n  // signal that we started\n  self.emit('start')\n}\n\nWeb3ProviderEngine.prototype.stop = function(){\n  const self = this\n  // stop block polling by removing event listeners\n  self._blockTracker.removeAllListeners()\n  // update state\n  self._running = false\n  // signal that we stopped\n  self.emit('stop')\n}\n\nWeb3ProviderEngine.prototype.isRunning = function(){\n  const self = this\n  return self._running\n}\n\nWeb3ProviderEngine.prototype.addProvider = function(source, index){\n  const self = this\n  if (typeof index === 'number') {\n    self._providers.splice(index, 0, source)\n  } else {\n    self._providers.push(source)\n  }\n  source.setEngine(this)\n}\n\nWeb3ProviderEngine.prototype.removeProvider = function(source){\n  const self = this\n  const index = self._providers.indexOf(source)\n  if (index < 0) throw new Error('Provider not found.')\n  self._providers.splice(index, 1)\n}\n\nWeb3ProviderEngine.prototype.send = function(payload){\n  throw new Error('Web3ProviderEngine does not support synchronous requests.')\n}\n\nWeb3ProviderEngine.prototype.sendAsync = function(payload, cb){\n  const self = this\n  self._ready.await(function(){\n\n    if (Array.isArray(payload)) {\n      // handle batch\n      map(payload, self._handleAsync.bind(self), cb)\n    } else {\n      // handle single\n      self._handleAsync(payload, cb)\n    }\n\n  })\n}\n\n// private\n\nWeb3ProviderEngine.prototype._getBlockByNumberWithRetry = function(blockNumber, cb) {\n  const self = this\n\n  let retriesRemaining = 5\n\n  attemptRequest()\n  return\n\n  function attemptRequest () {\n    self._getBlockByNumber(blockNumber, afterRequest)\n  }\n\n  function afterRequest (err, block) {\n    // anomalous error occurred\n    if (err) return cb(err)\n    // block not ready yet\n    if (!block) {\n      if (retriesRemaining > 0) {\n        // wait 1s then try again\n        retriesRemaining--\n        setTimeout(function () {\n          attemptRequest()\n        }, 1000)\n        return\n      } else {\n        // give up, return a null block\n        cb(null, null)\n        return\n      }\n    }\n    // otherwise return result\n    cb(null, block)\n    return\n  }\n}\n\n\nWeb3ProviderEngine.prototype._getBlockByNumber = function(blockNumber, cb) {\n  const req = createPayload({ method: 'eth_getBlockByNumber', params: [blockNumber, false], skipCache: true })\n  this._handleAsync(req, (err, res) => {\n    if (err) return cb(err)\n    return cb(null, res.result)\n  })\n}\n\nWeb3ProviderEngine.prototype._handleAsync = function(payload, finished) {\n  var self = this\n  var currentProvider = -1\n  var result = null\n  var error = null\n\n  var stack = []\n\n  next()\n\n  function next(after) {\n    currentProvider += 1\n    stack.unshift(after)\n\n    // Bubbled down as far as we could go, and the request wasn't\n    // handled. Return an error.\n    if (currentProvider >= self._providers.length) {\n      end(new Error('Request for method \"' + payload.method + '\" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'))\n    } else {\n      try {\n        var provider = self._providers[currentProvider]\n        provider.handleRequest(payload, next, end)\n      } catch (e) {\n        end(e)\n      }\n    }\n  }\n\n  function end(_error, _result) {\n    error = _error\n    result = _result\n\n    eachSeries(stack, function(fn, callback) {\n\n      if (fn) {\n        fn(error, result, callback)\n      } else {\n        callback()\n      }\n    }, function() {\n\n      var resultObj = {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        result: result\n      }\n\n      if (error != null) {\n        resultObj.error = {\n          message: error.stack || error.message || error,\n          code: -32000\n        }\n        // respond with both error formats\n        finished(error, resultObj)\n      } else {\n        finished(null, resultObj)\n      }\n    })\n  }\n}\n\n//\n// from remote-data\n//\n\nWeb3ProviderEngine.prototype._setCurrentBlock = function(block){\n  const self = this\n  self.currentBlock = block\n  self.emit('block', block)\n}\n\n// util\n\nfunction toBufferBlock (jsonBlock) {\n  return {\n    number:           ethUtil.toBuffer(jsonBlock.number),\n    hash:             ethUtil.toBuffer(jsonBlock.hash),\n    parentHash:       ethUtil.toBuffer(jsonBlock.parentHash),\n    nonce:            ethUtil.toBuffer(jsonBlock.nonce),\n    mixHash:          ethUtil.toBuffer(jsonBlock.mixHash),\n    sha3Uncles:       ethUtil.toBuffer(jsonBlock.sha3Uncles),\n    logsBloom:        ethUtil.toBuffer(jsonBlock.logsBloom),\n    transactionsRoot: ethUtil.toBuffer(jsonBlock.transactionsRoot),\n    stateRoot:        ethUtil.toBuffer(jsonBlock.stateRoot),\n    receiptsRoot:     ethUtil.toBuffer(jsonBlock.receiptRoot || jsonBlock.receiptsRoot),\n    miner:            ethUtil.toBuffer(jsonBlock.miner),\n    difficulty:       ethUtil.toBuffer(jsonBlock.difficulty),\n    totalDifficulty:  ethUtil.toBuffer(jsonBlock.totalDifficulty),\n    size:             ethUtil.toBuffer(jsonBlock.size),\n    extraData:        ethUtil.toBuffer(jsonBlock.extraData),\n    gasLimit:         ethUtil.toBuffer(jsonBlock.gasLimit),\n    gasUsed:          ethUtil.toBuffer(jsonBlock.gasUsed),\n    timestamp:        ethUtil.toBuffer(jsonBlock.timestamp),\n    transactions:     jsonBlock.transactions,\n  }\n}\n","'use strict'\nmodule.exports = require('./lib/api')(require('./lib/keccak'))\n","'use strict'\nvar createKeccak = require('./keccak')\nvar createShake = require('./shake')\n\nmodule.exports = function (KeccakState) {\n  var Keccak = createKeccak(KeccakState)\n  var Shake = createShake(KeccakState)\n\n  return function (algorithm, options) {\n    var hash = typeof algorithm === 'string' ? algorithm.toLowerCase() : algorithm\n    switch (hash) {\n      case 'keccak224': return new Keccak(1152, 448, null, 224, options)\n      case 'keccak256': return new Keccak(1088, 512, null, 256, options)\n      case 'keccak384': return new Keccak(832, 768, null, 384, options)\n      case 'keccak512': return new Keccak(576, 1024, null, 512, options)\n\n      case 'sha3-224': return new Keccak(1152, 448, 0x06, 224, options)\n      case 'sha3-256': return new Keccak(1088, 512, 0x06, 256, options)\n      case 'sha3-384': return new Keccak(832, 768, 0x06, 384, options)\n      case 'sha3-512': return new Keccak(576, 1024, 0x06, 512, options)\n\n      case 'shake128': return new Shake(1344, 256, 0x1f, options)\n      case 'shake256': return new Shake(1088, 512, 0x1f, options)\n\n      default: throw new Error('Invald algorithm: ' + algorithm)\n    }\n  }\n}\n","'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar Transform = require('stream').Transform\nvar inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Keccak (rate, capacity, delimitedSuffix, hashBitLength, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._hashBitLength = hashBitLength\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Keccak, Transform)\n\n  Keccak.prototype._transform = function (chunk, encoding, callback) {\n    var error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype._flush = function (callback) {\n    var error = null\n    try {\n      this.push(this.digest())\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Digest already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Keccak.prototype.digest = function (encoding) {\n    if (this._finalized) throw new Error('Digest already called')\n    this._finalized = true\n\n    if (this._delimitedSuffix) this._state.absorbLastFewBits(this._delimitedSuffix)\n    var digest = this._state.squeeze(this._hashBitLength / 8)\n    if (encoding !== undefined) digest = digest.toString(encoding)\n\n    this._resetState()\n\n    return digest\n  }\n\n  // remove result from memory\n  Keccak.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  // because sometimes we need hash right now and little later\n  Keccak.prototype._clone = function () {\n    var clone = new Keccak(this._rate, this._capacity, this._delimitedSuffix, this._hashBitLength, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Keccak\n}\n","'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar Transform = require('stream').Transform\nvar inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Shake (rate, capacity, delimitedSuffix, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Shake, Transform)\n\n  Shake.prototype._transform = function (chunk, encoding, callback) {\n    var error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Shake.prototype._flush = function () {}\n\n  Shake.prototype._read = function (size) {\n    this.push(this.squeeze(size))\n  }\n\n  Shake.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Squeeze already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Shake.prototype.squeeze = function (dataByteLength, encoding) {\n    if (!this._finalized) {\n      this._finalized = true\n      this._state.absorbLastFewBits(this._delimitedSuffix)\n    }\n\n    var data = this._state.squeeze(dataByteLength)\n    if (encoding !== undefined) data = data.toString(encoding)\n\n    return data\n  }\n\n  Shake.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  Shake.prototype._clone = function () {\n    var clone = new Shake(this._rate, this._capacity, this._delimitedSuffix, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Shake\n}\n","'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar keccakState = require('./keccak-state-unroll')\n\nfunction Keccak () {\n  // much faster than `new Array(50)`\n  this.state = [\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0\n  ]\n\n  this.blockSize = null\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.initialize = function (rate, capacity) {\n  for (var i = 0; i < 50; ++i) this.state[i] = 0\n  this.blockSize = rate / 8\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.absorb = function (data) {\n  for (var i = 0; i < data.length; ++i) {\n    this.state[~~(this.count / 4)] ^= data[i] << (8 * (this.count % 4))\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n}\n\nKeccak.prototype.absorbLastFewBits = function (bits) {\n  this.state[~~(this.count / 4)] ^= bits << (8 * (this.count % 4))\n  if ((bits & 0x80) !== 0 && this.count === (this.blockSize - 1)) keccakState.p1600(this.state)\n  this.state[~~((this.blockSize - 1) / 4)] ^= 0x80 << (8 * ((this.blockSize - 1) % 4))\n  keccakState.p1600(this.state)\n  this.count = 0\n  this.squeezing = true\n}\n\nKeccak.prototype.squeeze = function (length) {\n  if (!this.squeezing) this.absorbLastFewBits(0x01)\n\n  var output = Buffer.alloc(length)\n  for (var i = 0; i < length; ++i) {\n    output[i] = (this.state[~~(this.count / 4)] >>> (8 * (this.count % 4))) & 0xff\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n\n  return output\n}\n\nKeccak.prototype.copy = function (dest) {\n  for (var i = 0; i < 50; ++i) dest.state[i] = this.state[i]\n  dest.blockSize = this.blockSize\n  dest.count = this.count\n  dest.squeezing = this.squeezing\n}\n\nmodule.exports = Keccak\n","'use strict'\nvar P1600_ROUND_CONSTANTS = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648]\n\nexports.p1600 = function (s) {\n  for (var round = 0; round < 24; ++round) {\n    // theta\n    var lo0 = s[0] ^ s[10] ^ s[20] ^ s[30] ^ s[40]\n    var hi0 = s[1] ^ s[11] ^ s[21] ^ s[31] ^ s[41]\n    var lo1 = s[2] ^ s[12] ^ s[22] ^ s[32] ^ s[42]\n    var hi1 = s[3] ^ s[13] ^ s[23] ^ s[33] ^ s[43]\n    var lo2 = s[4] ^ s[14] ^ s[24] ^ s[34] ^ s[44]\n    var hi2 = s[5] ^ s[15] ^ s[25] ^ s[35] ^ s[45]\n    var lo3 = s[6] ^ s[16] ^ s[26] ^ s[36] ^ s[46]\n    var hi3 = s[7] ^ s[17] ^ s[27] ^ s[37] ^ s[47]\n    var lo4 = s[8] ^ s[18] ^ s[28] ^ s[38] ^ s[48]\n    var hi4 = s[9] ^ s[19] ^ s[29] ^ s[39] ^ s[49]\n\n    var lo = lo4 ^ (lo1 << 1 | hi1 >>> 31)\n    var hi = hi4 ^ (hi1 << 1 | lo1 >>> 31)\n    var t1slo0 = s[0] ^ lo\n    var t1shi0 = s[1] ^ hi\n    var t1slo5 = s[10] ^ lo\n    var t1shi5 = s[11] ^ hi\n    var t1slo10 = s[20] ^ lo\n    var t1shi10 = s[21] ^ hi\n    var t1slo15 = s[30] ^ lo\n    var t1shi15 = s[31] ^ hi\n    var t1slo20 = s[40] ^ lo\n    var t1shi20 = s[41] ^ hi\n    lo = lo0 ^ (lo2 << 1 | hi2 >>> 31)\n    hi = hi0 ^ (hi2 << 1 | lo2 >>> 31)\n    var t1slo1 = s[2] ^ lo\n    var t1shi1 = s[3] ^ hi\n    var t1slo6 = s[12] ^ lo\n    var t1shi6 = s[13] ^ hi\n    var t1slo11 = s[22] ^ lo\n    var t1shi11 = s[23] ^ hi\n    var t1slo16 = s[32] ^ lo\n    var t1shi16 = s[33] ^ hi\n    var t1slo21 = s[42] ^ lo\n    var t1shi21 = s[43] ^ hi\n    lo = lo1 ^ (lo3 << 1 | hi3 >>> 31)\n    hi = hi1 ^ (hi3 << 1 | lo3 >>> 31)\n    var t1slo2 = s[4] ^ lo\n    var t1shi2 = s[5] ^ hi\n    var t1slo7 = s[14] ^ lo\n    var t1shi7 = s[15] ^ hi\n    var t1slo12 = s[24] ^ lo\n    var t1shi12 = s[25] ^ hi\n    var t1slo17 = s[34] ^ lo\n    var t1shi17 = s[35] ^ hi\n    var t1slo22 = s[44] ^ lo\n    var t1shi22 = s[45] ^ hi\n    lo = lo2 ^ (lo4 << 1 | hi4 >>> 31)\n    hi = hi2 ^ (hi4 << 1 | lo4 >>> 31)\n    var t1slo3 = s[6] ^ lo\n    var t1shi3 = s[7] ^ hi\n    var t1slo8 = s[16] ^ lo\n    var t1shi8 = s[17] ^ hi\n    var t1slo13 = s[26] ^ lo\n    var t1shi13 = s[27] ^ hi\n    var t1slo18 = s[36] ^ lo\n    var t1shi18 = s[37] ^ hi\n    var t1slo23 = s[46] ^ lo\n    var t1shi23 = s[47] ^ hi\n    lo = lo3 ^ (lo0 << 1 | hi0 >>> 31)\n    hi = hi3 ^ (hi0 << 1 | lo0 >>> 31)\n    var t1slo4 = s[8] ^ lo\n    var t1shi4 = s[9] ^ hi\n    var t1slo9 = s[18] ^ lo\n    var t1shi9 = s[19] ^ hi\n    var t1slo14 = s[28] ^ lo\n    var t1shi14 = s[29] ^ hi\n    var t1slo19 = s[38] ^ lo\n    var t1shi19 = s[39] ^ hi\n    var t1slo24 = s[48] ^ lo\n    var t1shi24 = s[49] ^ hi\n\n    // rho & pi\n    var t2slo0 = t1slo0\n    var t2shi0 = t1shi0\n    var t2slo16 = (t1shi5 << 4 | t1slo5 >>> 28)\n    var t2shi16 = (t1slo5 << 4 | t1shi5 >>> 28)\n    var t2slo7 = (t1slo10 << 3 | t1shi10 >>> 29)\n    var t2shi7 = (t1shi10 << 3 | t1slo10 >>> 29)\n    var t2slo23 = (t1shi15 << 9 | t1slo15 >>> 23)\n    var t2shi23 = (t1slo15 << 9 | t1shi15 >>> 23)\n    var t2slo14 = (t1slo20 << 18 | t1shi20 >>> 14)\n    var t2shi14 = (t1shi20 << 18 | t1slo20 >>> 14)\n    var t2slo10 = (t1slo1 << 1 | t1shi1 >>> 31)\n    var t2shi10 = (t1shi1 << 1 | t1slo1 >>> 31)\n    var t2slo1 = (t1shi6 << 12 | t1slo6 >>> 20)\n    var t2shi1 = (t1slo6 << 12 | t1shi6 >>> 20)\n    var t2slo17 = (t1slo11 << 10 | t1shi11 >>> 22)\n    var t2shi17 = (t1shi11 << 10 | t1slo11 >>> 22)\n    var t2slo8 = (t1shi16 << 13 | t1slo16 >>> 19)\n    var t2shi8 = (t1slo16 << 13 | t1shi16 >>> 19)\n    var t2slo24 = (t1slo21 << 2 | t1shi21 >>> 30)\n    var t2shi24 = (t1shi21 << 2 | t1slo21 >>> 30)\n    var t2slo20 = (t1shi2 << 30 | t1slo2 >>> 2)\n    var t2shi20 = (t1slo2 << 30 | t1shi2 >>> 2)\n    var t2slo11 = (t1slo7 << 6 | t1shi7 >>> 26)\n    var t2shi11 = (t1shi7 << 6 | t1slo7 >>> 26)\n    var t2slo2 = (t1shi12 << 11 | t1slo12 >>> 21)\n    var t2shi2 = (t1slo12 << 11 | t1shi12 >>> 21)\n    var t2slo18 = (t1slo17 << 15 | t1shi17 >>> 17)\n    var t2shi18 = (t1shi17 << 15 | t1slo17 >>> 17)\n    var t2slo9 = (t1shi22 << 29 | t1slo22 >>> 3)\n    var t2shi9 = (t1slo22 << 29 | t1shi22 >>> 3)\n    var t2slo5 = (t1slo3 << 28 | t1shi3 >>> 4)\n    var t2shi5 = (t1shi3 << 28 | t1slo3 >>> 4)\n    var t2slo21 = (t1shi8 << 23 | t1slo8 >>> 9)\n    var t2shi21 = (t1slo8 << 23 | t1shi8 >>> 9)\n    var t2slo12 = (t1slo13 << 25 | t1shi13 >>> 7)\n    var t2shi12 = (t1shi13 << 25 | t1slo13 >>> 7)\n    var t2slo3 = (t1slo18 << 21 | t1shi18 >>> 11)\n    var t2shi3 = (t1shi18 << 21 | t1slo18 >>> 11)\n    var t2slo19 = (t1shi23 << 24 | t1slo23 >>> 8)\n    var t2shi19 = (t1slo23 << 24 | t1shi23 >>> 8)\n    var t2slo15 = (t1slo4 << 27 | t1shi4 >>> 5)\n    var t2shi15 = (t1shi4 << 27 | t1slo4 >>> 5)\n    var t2slo6 = (t1slo9 << 20 | t1shi9 >>> 12)\n    var t2shi6 = (t1shi9 << 20 | t1slo9 >>> 12)\n    var t2slo22 = (t1shi14 << 7 | t1slo14 >>> 25)\n    var t2shi22 = (t1slo14 << 7 | t1shi14 >>> 25)\n    var t2slo13 = (t1slo19 << 8 | t1shi19 >>> 24)\n    var t2shi13 = (t1shi19 << 8 | t1slo19 >>> 24)\n    var t2slo4 = (t1slo24 << 14 | t1shi24 >>> 18)\n    var t2shi4 = (t1shi24 << 14 | t1slo24 >>> 18)\n\n    // chi\n    s[0] = t2slo0 ^ (~t2slo1 & t2slo2)\n    s[1] = t2shi0 ^ (~t2shi1 & t2shi2)\n    s[10] = t2slo5 ^ (~t2slo6 & t2slo7)\n    s[11] = t2shi5 ^ (~t2shi6 & t2shi7)\n    s[20] = t2slo10 ^ (~t2slo11 & t2slo12)\n    s[21] = t2shi10 ^ (~t2shi11 & t2shi12)\n    s[30] = t2slo15 ^ (~t2slo16 & t2slo17)\n    s[31] = t2shi15 ^ (~t2shi16 & t2shi17)\n    s[40] = t2slo20 ^ (~t2slo21 & t2slo22)\n    s[41] = t2shi20 ^ (~t2shi21 & t2shi22)\n    s[2] = t2slo1 ^ (~t2slo2 & t2slo3)\n    s[3] = t2shi1 ^ (~t2shi2 & t2shi3)\n    s[12] = t2slo6 ^ (~t2slo7 & t2slo8)\n    s[13] = t2shi6 ^ (~t2shi7 & t2shi8)\n    s[22] = t2slo11 ^ (~t2slo12 & t2slo13)\n    s[23] = t2shi11 ^ (~t2shi12 & t2shi13)\n    s[32] = t2slo16 ^ (~t2slo17 & t2slo18)\n    s[33] = t2shi16 ^ (~t2shi17 & t2shi18)\n    s[42] = t2slo21 ^ (~t2slo22 & t2slo23)\n    s[43] = t2shi21 ^ (~t2shi22 & t2shi23)\n    s[4] = t2slo2 ^ (~t2slo3 & t2slo4)\n    s[5] = t2shi2 ^ (~t2shi3 & t2shi4)\n    s[14] = t2slo7 ^ (~t2slo8 & t2slo9)\n    s[15] = t2shi7 ^ (~t2shi8 & t2shi9)\n    s[24] = t2slo12 ^ (~t2slo13 & t2slo14)\n    s[25] = t2shi12 ^ (~t2shi13 & t2shi14)\n    s[34] = t2slo17 ^ (~t2slo18 & t2slo19)\n    s[35] = t2shi17 ^ (~t2shi18 & t2shi19)\n    s[44] = t2slo22 ^ (~t2slo23 & t2slo24)\n    s[45] = t2shi22 ^ (~t2shi23 & t2shi24)\n    s[6] = t2slo3 ^ (~t2slo4 & t2slo0)\n    s[7] = t2shi3 ^ (~t2shi4 & t2shi0)\n    s[16] = t2slo8 ^ (~t2slo9 & t2slo5)\n    s[17] = t2shi8 ^ (~t2shi9 & t2shi5)\n    s[26] = t2slo13 ^ (~t2slo14 & t2slo10)\n    s[27] = t2shi13 ^ (~t2shi14 & t2shi10)\n    s[36] = t2slo18 ^ (~t2slo19 & t2slo15)\n    s[37] = t2shi18 ^ (~t2shi19 & t2shi15)\n    s[46] = t2slo23 ^ (~t2slo24 & t2slo20)\n    s[47] = t2shi23 ^ (~t2shi24 & t2shi20)\n    s[8] = t2slo4 ^ (~t2slo0 & t2slo1)\n    s[9] = t2shi4 ^ (~t2shi0 & t2shi1)\n    s[18] = t2slo9 ^ (~t2slo5 & t2slo6)\n    s[19] = t2shi9 ^ (~t2shi5 & t2shi6)\n    s[28] = t2slo14 ^ (~t2slo10 & t2slo11)\n    s[29] = t2shi14 ^ (~t2shi10 & t2shi11)\n    s[38] = t2slo19 ^ (~t2slo15 & t2slo16)\n    s[39] = t2shi19 ^ (~t2shi15 & t2shi16)\n    s[48] = t2slo24 ^ (~t2slo20 & t2slo21)\n    s[49] = t2shi24 ^ (~t2shi20 & t2shi21)\n\n    // iota\n    s[0] ^= P1600_ROUND_CONSTANTS[round * 2]\n    s[1] ^= P1600_ROUND_CONSTANTS[round * 2 + 1]\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _doParallel = require('./internal/doParallel');\n\nvar _doParallel2 = _interopRequireDefault(_doParallel);\n\nvar _map = require('./internal/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Produces a new collection of values by mapping each value in `coll` through\n * the `iteratee` function. The `iteratee` is called with an item from `coll`\n * and a callback for when it has finished processing. Each of these callback\n * takes 2 arguments: an `error`, and the transformed item from `coll`. If\n * `iteratee` passes an error to its callback, the main `callback` (for the\n * `map` function) is immediately called with the error.\n *\n * Note, that since this function applies the `iteratee` to each item in\n * parallel, there is no guarantee that the `iteratee` functions will complete\n * in order. However, the results array will be in the same order as the\n * original `coll`.\n *\n * If `map` is passed an Object, the results will be an Array.  The results\n * will roughly be in the order of the original Objects' keys (but this can\n * vary across JavaScript engines).\n *\n * @name map\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an Array of the\n * transformed items from the `coll`. Invoked with (err, results).\n * @example\n *\n * async.map(['file1','file2','file3'], fs.stat, function(err, results) {\n *     // results is now an array of stats for each file\n * });\n */\nexports.default = (0, _doParallel2.default)(_map2.default);\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = doParallel;\n\nvar _eachOf = require('../eachOf');\n\nvar _eachOf2 = _interopRequireDefault(_eachOf);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction doParallel(fn) {\n    return function (obj, iteratee, callback) {\n        return fn(_eachOf2.default, obj, (0, _wrapAsync2.default)(iteratee), callback);\n    };\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = eachOfLimit;\n\nvar _eachOfLimit2 = require('./internal/eachOfLimit');\n\nvar _eachOfLimit3 = _interopRequireDefault(_eachOfLimit2);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name eachOfLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`. The `key` is the item's key, or index in the case of an\n * array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachOfLimit(coll, limit, iteratee, callback) {\n  (0, _eachOfLimit3.default)(limit)(coll, (0, _wrapAsync2.default)(iteratee), callback);\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = iterator;\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _getIterator = require('./getIterator');\n\nvar _getIterator2 = _interopRequireDefault(_getIterator);\n\nvar _keys = require('lodash/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createArrayIterator(coll) {\n    var i = -1;\n    var len = coll.length;\n    return function next() {\n        return ++i < len ? { value: coll[i], key: i } : null;\n    };\n}\n\nfunction createES2015Iterator(iterator) {\n    var i = -1;\n    return function next() {\n        var item = iterator.next();\n        if (item.done) return null;\n        i++;\n        return { value: item.value, key: i };\n    };\n}\n\nfunction createObjectIterator(obj) {\n    var okeys = (0, _keys2.default)(obj);\n    var i = -1;\n    var len = okeys.length;\n    return function next() {\n        var key = okeys[++i];\n        if (key === '__proto__') {\n            return next();\n        }\n        return i < len ? { value: obj[key], key: key } : null;\n    };\n}\n\nfunction iterator(coll) {\n    if ((0, _isArrayLike2.default)(coll)) {\n        return createArrayIterator(coll);\n    }\n\n    var iterator = (0, _getIterator2.default)(coll);\n    return iterator ? createES2015Iterator(iterator) : createObjectIterator(coll);\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (coll) {\n    return iteratorSymbol && coll[iteratorSymbol] && coll[iteratorSymbol]();\n};\n\nvar iteratorSymbol = typeof Symbol === 'function' && Symbol.iterator;\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = asyncify;\n\nvar _isObject = require('lodash/isObject');\n\nvar _isObject2 = _interopRequireDefault(_isObject);\n\nvar _initialParams = require('./internal/initialParams');\n\nvar _initialParams2 = _interopRequireDefault(_initialParams);\n\nvar _setImmediate = require('./internal/setImmediate');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Take a sync function and make it async, passing its return value to a\n * callback. This is useful for plugging sync functions into a waterfall,\n * series, or other async functions. Any arguments passed to the generated\n * function will be passed to the wrapped function (except for the final\n * callback argument). Errors thrown will be passed to the callback.\n *\n * If the function passed to `asyncify` returns a Promise, that promises's\n * resolved/rejected state will be used to call the callback, rather than simply\n * the synchronous return value.\n *\n * This also means you can asyncify ES2017 `async` functions.\n *\n * @name asyncify\n * @static\n * @memberOf module:Utils\n * @method\n * @alias wrapSync\n * @category Util\n * @param {Function} func - The synchronous function, or Promise-returning\n * function to convert to an {@link AsyncFunction}.\n * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be\n * invoked with `(args..., callback)`.\n * @example\n *\n * // passing a regular synchronous function\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(JSON.parse),\n *     function (data, next) {\n *         // data is the result of parsing the text.\n *         // If there was a parsing error, it would have been caught.\n *     }\n * ], callback);\n *\n * // passing a function returning a promise\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(function (contents) {\n *         return db.model.create(contents);\n *     }),\n *     function (model, next) {\n *         // `model` is the instantiated model object.\n *         // If there was an error, this function would be skipped.\n *     }\n * ], callback);\n *\n * // es2017 example, though `asyncify` is not needed if your JS environment\n * // supports async functions out of the box\n * var q = async.queue(async.asyncify(async function(file) {\n *     var intermediateStep = await processFile(file);\n *     return await somePromise(intermediateStep)\n * }));\n *\n * q.push(files);\n */\nfunction asyncify(func) {\n    return (0, _initialParams2.default)(function (args, callback) {\n        var result;\n        try {\n            result = func.apply(this, args);\n        } catch (e) {\n            return callback(e);\n        }\n        // if result is Promise object\n        if ((0, _isObject2.default)(result) && typeof result.then === 'function') {\n            result.then(function (value) {\n                invokeCallback(callback, null, value);\n            }, function (err) {\n                invokeCallback(callback, err.message ? err : new Error(err));\n            });\n        } else {\n            callback(null, result);\n        }\n    });\n}\n\nfunction invokeCallback(callback, error, value) {\n    try {\n        callback(error, value);\n    } catch (e) {\n        (0, _setImmediate2.default)(rethrow, e);\n    }\n}\n\nfunction rethrow(error) {\n    throw error;\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (fn) {\n    return function () /*...args, callback*/{\n        var args = (0, _slice2.default)(arguments);\n        var callback = args.pop();\n        fn.call(this, args, callback);\n    };\n};\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.hasNextTick = exports.hasSetImmediate = undefined;\nexports.fallback = fallback;\nexports.wrap = wrap;\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hasSetImmediate = exports.hasSetImmediate = typeof setImmediate === 'function' && setImmediate;\nvar hasNextTick = exports.hasNextTick = typeof process === 'object' && typeof process.nextTick === 'function';\n\nfunction fallback(fn) {\n    setTimeout(fn, 0);\n}\n\nfunction wrap(defer) {\n    return function (fn /*, ...args*/) {\n        var args = (0, _slice2.default)(arguments, 1);\n        defer(function () {\n            fn.apply(null, args);\n        });\n    };\n}\n\nvar _defer;\n\nif (hasSetImmediate) {\n    _defer = setImmediate;\n} else if (hasNextTick) {\n    _defer = process.nextTick;\n} else {\n    _defer = fallback;\n}\n\nexports.default = wrap(_defer);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _asyncMap;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncMap(eachfn, arr, iteratee, callback) {\n    callback = callback || _noop2.default;\n    arr = arr || [];\n    var results = [];\n    var counter = 0;\n    var _iteratee = (0, _wrapAsync2.default)(iteratee);\n\n    eachfn(arr, function (value, _, callback) {\n        var index = counter++;\n        _iteratee(value, function (err, v) {\n            results[index] = v;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _eachLimit = require('./eachLimit');\n\nvar _eachLimit2 = _interopRequireDefault(_eachLimit);\n\nvar _doLimit = require('./internal/doLimit');\n\nvar _doLimit2 = _interopRequireDefault(_doLimit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs only a single async operation at a time.\n *\n * @name eachSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfSeries`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nexports.default = (0, _doLimit2.default)(_eachLimit2.default, 1);\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = eachLimit;\n\nvar _eachOfLimit = require('./internal/eachOfLimit');\n\nvar _eachOfLimit2 = _interopRequireDefault(_eachOfLimit);\n\nvar _withoutIndex = require('./internal/withoutIndex');\n\nvar _withoutIndex2 = _interopRequireDefault(_withoutIndex);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs a maximum of `limit` async operations at a time.\n *\n * @name eachLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfLimit`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachLimit(coll, limit, iteratee, callback) {\n  (0, _eachOfLimit2.default)(limit)(coll, (0, _withoutIndex2.default)((0, _wrapAsync2.default)(iteratee)), callback);\n}\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _withoutIndex;\nfunction _withoutIndex(iteratee) {\n    return function (value, index, callback) {\n        return iteratee(value, callback);\n    };\n}\nmodule.exports = exports[\"default\"];","const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\n\nmodule.exports = Stoplight\n\n\ninherits(Stoplight, EventEmitter)\n\nfunction Stoplight(){\n  const self = this\n  EventEmitter.call(self)\n  self.isLocked = true\n}\n\nStoplight.prototype.go = function(){\n  const self = this\n  self.isLocked = false\n  self.emit('unlock')\n}\n\nStoplight.prototype.stop = function(){\n  const self = this\n  self.isLocked = true\n  self.emit('lock')\n}\n\nStoplight.prototype.await = function(fn){\n  const self = this\n  if (self.isLocked) {\n    self.once('unlock', fn)\n  } else {\n    setTimeout(fn)\n  }\n}","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload,\n}\n\nfunction cacheIdentifierForPayload(payload, opts = {}){\n  if (!canCache(payload)) return null\n  const { includeBlockRef } = opts\n  const params = includeBlockRef ? payload.params : paramsWithoutBlockTag(payload)\n  return payload.method + ':' + stringify(params)\n}\n\nfunction canCache(payload){\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null;\n  }\n\n  return payload.params[index];\n}\n\nfunction paramsWithoutBlockTag(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params;\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1);\n  }\n\n  return payload.params.slice(0,index);\n}\n\nfunction blockTagParamIndex(payload){\n  switch(payload.method) {\n    // blockTag is third param\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is second param\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n      return 1\n    // blockTag is first param\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload(payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'eth_blockNumber':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n      return 'never'\n  }\n}\n","module.exports = createRandomId\n\n\nfunction createRandomId () {\n  // random id\n  return Math.floor(Number.MAX_SAFE_INTEGER * Math.random())\n}","const xhr = process.browser ? require('xhr') : require('request')\nconst inherits = require('util').inherits\nconst createPayload = require('../util/create-payload.js')\nconst Subprovider = require('./subprovider.js')\nconst { ethErrors, serializeError } = require('eth-json-rpc-errors')\n\n\nmodule.exports = RpcSource\n\ninherits(RpcSource, Subprovider)\n\nfunction RpcSource(opts) {\n  const self = this\n  self.rpcUrl = opts.rpcUrl\n}\n\nRpcSource.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  const targetUrl = self.rpcUrl\n\n  // overwrite id to conflict with other concurrent users\n  const sanitizedPayload = sanitizePayload(payload)\n  const newPayload = createPayload(sanitizedPayload)\n\n  xhr({\n    uri: targetUrl,\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(newPayload),\n    rejectUnauthorized: false,\n    timeout: 20000,\n  }, function(err, res, body) {\n    if (err) return end(serializeError(err))\n\n    // check for error code\n    switch (res.statusCode) {\n      case 405:\n        return end(ethErrors.rpc.methodNotFound())\n      case 504: // Gateway timeout\n        return (function(){\n          let msg = `Gateway timeout. The request took too long to process. `\n          msg += `This can happen when querying logs over too wide a block range.`\n          const err = new Error(msg)\n          return end(serializeError(err))\n        })()\n      case 429: // Too many requests (rate limiting)\n        return (function(){\n          const err = new Error(`Too Many Requests`)\n          return end(serializeError(err))\n        })()\n      default:\n        if (res.statusCode != 200) {\n          const msg = 'Unknown Error: ' + res.body\n          const err = new Error(msg)\n          return end(serializeError(err))\n        }\n    }\n\n    // parse response\n    let data\n    try {\n      data = JSON.parse(body)\n    } catch (err) {\n      console.error(err.stack)\n      return end(serializeError(err))\n    }\n    if (data.error) return end(data.error)\n\n    end(null, data.result)\n  })\n}\n\n// drops any non-standard params\nfunction sanitizePayload (payload) {\n  return {\n    id: payload.id,\n    jsonrpc: payload.jsonrpc,\n    method: payload.method,\n    params: payload.params,\n  }\n}","\nconst { EthereumRpcError, EthereumProviderError } = require('./src/classes')\nconst {\n  serializeError, getMessageFromCode,\n} = require('./src/utils')\nconst ethErrors = require('./src/errors')\nconst ERROR_CODES = require('./src/errorCodes.json')\n\nmodule.exports = {\n  ethErrors,\n  EthereumRpcError,\n  EthereumProviderError,\n  serializeError,\n  getMessageFromCode,\n  /** @type ErrorCodes */\n  ERROR_CODES,\n}\n\n// Types\n\n/**\n * @typedef {Object} EthereumProviderErrorCodes\n * @property {number} userRejectedRequest\n * @property {number} unauthorized\n * @property {number} unsupportedMethod\n */\n\n/**\n * @typedef {Object} EthereumRpcErrorCodes\n * @property {number} parse\n * @property {number} invalidRequest\n * @property {number} invalidParams\n * @property {number} methodNotFound\n * @property {number} internal\n * @property {number} invalidInput\n * @property {number} resourceNotFound\n * @property {number} resourceUnavailable\n * @property {number} transactionRejected\n * @property {number} methodNotSupported\n */\n\n/**\n * @typedef ErrorCodes\n * @property {EthereumRpcErrorCodes} rpc\n * @property {EthereumProviderErrorCodes} provider\n */\n","\nconst { EthereumRpcError, EthereumProviderError } = require('./classes')\nconst { getMessageFromCode } = require('./utils')\nconst ERROR_CODES = require('./errorCodes.json')\n\nmodule.exports = {\n  rpc: {\n    /**\n     * Get a JSON RPC 2.0 Parse (-32700) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    parse: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.parse, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Invalid Request (-32600) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    invalidRequest: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.invalidRequest, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Invalid Params (-32602) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    invalidParams: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.invalidParams, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Method Not Found (-32601) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    methodNotFound: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.methodNotFound, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Internal (-32603) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    internal: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.internal, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Server error.\n     * Permits integer error codes in the [ -32099 <= -32005 ] range.\n     * Codes -32000 through -32004 are reserved by EIP 1474.\n     * \n     * @param {Object|string} opts - Options object\n     * @param {number} opts.code - The error code\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    server: (opts) => {\n      if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n        throw new Error('Ethereum RPC Server errors must provide single object argument.')\n      }\n      const { code } = opts\n      if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n        throw new Error(\n          '\"code\" must be an integer such that: -32099 <= code <= -32005'\n        )\n      }\n      return getEthJsonRpcError(code, opts)\n    },\n\n    /**\n     * Get an Ethereum JSON RPC Invalid Input (-32000) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    invalidInput: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.invalidInput, opts\n    ),\n\n    /**\n     * Get an Ethereum JSON RPC Resource Not Found (-32001) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    resourceNotFound: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.resourceNotFound, opts\n    ),\n\n    /**\n     * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    resourceUnavailable: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.resourceUnavailable, opts\n    ),\n\n    /**\n     * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    transactionRejected: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.transactionRejected, opts\n    ),\n\n    /**\n     * Get an Ethereum JSON RPC Method Not Supported (-32004) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    methodNotSupported: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.methodNotSupported, opts\n    ),\n  },\n\n  provider: {\n    /**\n     * Get an Ethereum Provider User Rejected Request (4001) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumProviderError} The error\n     */\n    userRejectedRequest: (opts) => {\n      return getEthProviderError(\n        ERROR_CODES.provider.userRejectedRequest, opts\n      )\n    },\n\n    /**\n     * Get an Ethereum Provider Unauthorized (4100) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumProviderError} The error\n     */\n    unauthorized: (opts) => {\n      return getEthProviderError(\n        ERROR_CODES.provider.unauthorized, opts\n      )\n    },\n\n    /**\n     * Get an Ethereum Provider Unsupported Method (4200) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumProviderError} The error\n     */\n    unsupportedMethod: (opts) => {\n      return getEthProviderError(\n        ERROR_CODES.provider.unsupportedMethod, opts\n      )\n    },\n\n    /**\n     * Get a custom Ethereum Provider error.\n     * \n     * @param {Object|string} opts - Options object\n     * @param {number} opts.code - The error code\n     * @param {string} opts.message - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumProviderError} The error\n     */\n    custom: (opts) => {\n      if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n        throw new Error('Ethereum Provider custom errors must provide single object argument.')\n      }\n      const { code, message, data } = opts\n      if (!message || typeof message !== 'string') throw new Error(\n        '\"message\" must be a nonempty string'\n      )\n      return new EthereumProviderError(code, message, data)\n    },\n  },\n}\n\n// Internal\n\nfunction getEthJsonRpcError(code, opts) {\n  const [ message, data ] = validateOpts(opts)\n  return new EthereumRpcError(\n    code,\n    message || getMessageFromCode(code),\n    data\n  )\n}\n\nfunction getEthProviderError(code, opts) {\n  const [ message, data ] = validateOpts(opts)\n  return new EthereumProviderError(\n    code,\n    message || getMessageFromCode(code),\n    data\n  )\n}\n\nfunction validateOpts (opts) {\n  let message, data\n  if (opts) {\n    if (typeof opts === 'string') {\n      message = opts\n    } else if (typeof opts === 'object' && !Array.isArray(opts)) {\n      message = opts.message\n      data = opts.data\n    }\n  }\n  return [ message, data ]\n}\n","/*\n * Emulate 'eth_accounts' / 'eth_sendTransaction' using 'eth_sendRawTransaction'\n *\n * The two callbacks a user needs to implement are:\n * - getAccounts() -- array of addresses supported\n * - signTransaction(tx) -- sign a raw transaction object\n */\n\nconst waterfall = require('async/waterfall')\nconst parallel = require('async/parallel')\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst sigUtil = require('eth-sig-util')\nconst extend = require('xtend')\nconst Semaphore = require('semaphore')\nconst Subprovider = require('./subprovider.js')\nconst estimateGas = require('../util/estimate-gas.js')\nconst hexRegex = /^[0-9A-Fa-f]+$/g\n\nmodule.exports = HookedWalletSubprovider\n\n// handles the following RPC methods:\n//   eth_coinbase\n//   eth_accounts\n//   eth_sendTransaction\n//   eth_sign\n//   eth_signTypedData\n//   eth_signTypedData_v3\n//   eth_signTypedData_v4\n//   personal_sign\n//   eth_decryptMessage\n//   encryption_public_key\n//   personal_ecRecover\n//   parity_postTransaction\n//   parity_checkRequest\n//   parity_defaultAccount\n\n//\n// Tx Signature Flow\n//\n// handleRequest: eth_sendTransaction\n//   validateTransaction (basic validity check)\n//     validateSender (checks that sender is in accounts)\n//   processTransaction (sign tx and submit to network)\n//     approveTransaction (UI approval hook)\n//     checkApproval\n//     finalizeAndSubmitTx (tx signing)\n//       nonceLock.take (bottle neck to ensure atomic nonce)\n//         fillInTxExtras (set fallback gasPrice, nonce, etc)\n//         signTransaction (perform the signature)\n//         publishTransaction (publish signed tx to network)\n//\n\n\ninherits(HookedWalletSubprovider, Subprovider)\n\nfunction HookedWalletSubprovider(opts){\n  const self = this\n  // control flow\n  self.nonceLock = Semaphore(1)\n\n  // data lookup\n  if (opts.getAccounts) self.getAccounts = opts.getAccounts\n  // high level override\n  if (opts.processTransaction) self.processTransaction = opts.processTransaction\n  if (opts.processMessage) self.processMessage = opts.processMessage\n  if (opts.processPersonalMessage) self.processPersonalMessage = opts.processPersonalMessage\n  if (opts.processTypedMessage) self.processTypedMessage = opts.processTypedMessage\n  // approval hooks\n  self.approveTransaction = opts.approveTransaction || self.autoApprove\n  self.approveMessage = opts.approveMessage || self.autoApprove\n  self.approvePersonalMessage = opts.approvePersonalMessage || self.autoApprove\n  self.approveDecryptMessage = opts.approveDecryptMessage || self.autoApprove\n  self.approveEncryptionPublicKey = opts.approveEncryptionPublicKey || self.autoApprove\n  self.approveTypedMessage = opts.approveTypedMessage || self.autoApprove\n  // actually perform the signature\n  if (opts.signTransaction) self.signTransaction = opts.signTransaction  || mustProvideInConstructor('signTransaction')\n  if (opts.signMessage) self.signMessage = opts.signMessage  || mustProvideInConstructor('signMessage')\n  if (opts.signPersonalMessage) self.signPersonalMessage = opts.signPersonalMessage  || mustProvideInConstructor('signPersonalMessage')\n  if (opts.decryptMessage) self.decryptMessage = opts.decryptMessage  || mustProvideInConstructor('decryptMessage')\n  if (opts.encryptionPublicKey) self.encryptionPublicKey = opts.encryptionPublicKey  || mustProvideInConstructor('encryptionPublicKey')\n  if (opts.signTypedMessage) self.signTypedMessage = opts.signTypedMessage  || mustProvideInConstructor('signTypedMessage')\n  if (opts.recoverPersonalSignature) self.recoverPersonalSignature = opts.recoverPersonalSignature\n  // publish to network\n  if (opts.publishTransaction) self.publishTransaction = opts.publishTransaction\n  // gas options\n  self.estimateGas = opts.estimateGas || self.estimateGas\n  self.getGasPrice = opts.getGasPrice || self.getGasPrice\n}\n\nHookedWalletSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  self._parityRequests = {}\n  self._parityRequestCount = 0\n\n  // switch statement is not block scoped\n  // sp we cant repeat var declarations\n  let txParams, msgParams, extraParams\n  let message, address\n\n  switch(payload.method) {\n\n    case 'eth_coinbase':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        let result = accounts[0] || null\n        end(null, result)\n      })\n      return\n\n    case 'eth_accounts':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        end(null, accounts)\n      })\n      return\n\n    case 'eth_sendTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processSignTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_sign':\n      // process normally\n      address = payload.params[0]\n      message = payload.params[1]\n      // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n      // good place for metadata\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateMessage(msgParams, cb),\n        (cb) => self.processMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'personal_sign':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_personalSign method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validatePersonalMessage(msgParams, cb),\n          (cb) => self.processPersonalMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'eth_decryptMessage':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_decryptMessage method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validateDecryptMessage(msgParams, cb),\n          (cb) => self.processDecryptMessage(msgParams, cb),\n        ], end)\n      })()\n      \n    case 'encryption_public_key':\n      return (function(){\n        const address = payload.params[0]\n        \n        waterfall([\n          (cb) => self.validateEncryptionPublicKey(address, cb),\n          (cb) => self.processEncryptionPublicKey(address, cb),\n        ], end)\n      })()\n      \n    case 'personal_ecRecover':\n      return (function(){    \n        message = payload.params[0]\n        let signature = payload.params[1]\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          sig: signature,\n          data: message,\n        })\n        self.recoverPersonalSignature(msgParams, end)\n      })()\n\n    case 'eth_signTypedData':\n    case 'eth_signTypedData_v3':\n    case 'eth_signTypedData_v4':\n      return (function(){ \n        // process normally\n      \n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        if (resemblesAddress(first)) {\n          address = first\n          message = second\n        } else {\n          message = first\n          address = second\n        }\n\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validateTypedMessage(msgParams, cb),\n          (cb) => self.processTypedMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'parity_postTransaction':\n      txParams = payload.params[0]\n      self.parityPostTransaction(txParams, end)\n      return\n\n    case 'parity_postSign':\n      address = payload.params[0]\n      message = payload.params[1]\n      self.parityPostSign(address, message, end)\n      return\n\n    case 'parity_checkRequest':\n      return (function(){\n        const requestId = payload.params[0]\n        self.parityCheckRequest(requestId, end)\n      })()\n\n    case 'parity_defaultAccount':\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        const account = accounts[0] || null\n        end(null, account)\n      })\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n\n//\n// data lookup\n//\n\nHookedWalletSubprovider.prototype.getAccounts = function(cb) {\n  cb(null, [])\n}\n\n\n//\n// \"process\" high level flow\n//\n\nHookedWalletSubprovider.prototype.processTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeAndSubmitTx(txParams, cb),\n  ], cb)\n}\n\n\nHookedWalletSubprovider.prototype.processSignTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeTx(txParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processPersonalMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approvePersonalMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signPersonalMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processDecryptMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveDecryptMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('decryptMessage', didApprove, cb),\n    (cb) => self.decryptMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processEncryptionPublicKey = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveEncryptionPublicKey(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('encryptionPublicKey', didApprove, cb),\n    (cb) => self.encryptionPublicKey(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessage(msgParams, cb),\n  ], cb)\n}\n\n//\n// approval\n//\n\nHookedWalletSubprovider.prototype.autoApprove = function(txParams, cb) {\n  cb(null, true)\n}\n\nHookedWalletSubprovider.prototype.checkApproval = function(type, didApprove, cb) {\n  cb( didApprove ? null : new Error('User denied '+type+' signature.') )\n}\n\n//\n// parity\n//\n\nHookedWalletSubprovider.prototype.parityPostTransaction = function(txParams, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sendTransaction',\n    params: [txParams],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const txHash = res.result\n    self._parityRequests[reqId] = txHash\n  })\n\n  cb(null, reqId)\n}\n\n\nHookedWalletSubprovider.prototype.parityPostSign = function(address, message, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sign',\n    params: [address, message],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const result = res.result\n    self._parityRequests[reqId] = result\n  })\n\n  cb(null, reqId)\n}\n\nHookedWalletSubprovider.prototype.parityCheckRequest = function(reqId, cb) {\n  const self = this\n  const result = self._parityRequests[reqId] || null\n  // tx not handled yet\n  if (!result) return cb(null, null)\n  // tx was rejected (or other error)\n  if (result.error) return cb(result.error)\n  // tx sent\n  cb(null, result)\n}\n\n//\n// signature and recovery\n//\n\nHookedWalletSubprovider.prototype.recoverPersonalSignature = function(msgParams, cb) {\n  let senderHex\n  try {\n    senderHex = sigUtil.recoverPersonalSignature(msgParams)\n  } catch (err) {\n    return cb(err)\n  }\n  cb(null, senderHex)\n}\n\n//\n// validation\n//\n\nHookedWalletSubprovider.prototype.validateTransaction = function(txParams, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (txParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign transaction.`))\n  self.validateSender(txParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign transaction for this address: \"${txParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign message.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validatePersonalMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign personal message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to sign personal message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateDecryptMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to decrypt message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to decrypt message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to decrypt message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateEncryptionPublicKey = function(address, cb){\n  const self = this\n\n  self.validateSender(address, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to obtain encryption public key for this address: \"${address}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessage = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateSender = function(senderAddress, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (!senderAddress) return cb(null, false)\n  self.getAccounts(function(err, accounts){\n    if (err) return cb(err)\n    const senderIsValid = (accounts.map(toLowerCase).indexOf(senderAddress.toLowerCase()) !== -1)\n    cb(null, senderIsValid)\n  })\n}\n\n//\n// tx helpers\n//\n\nHookedWalletSubprovider.prototype.finalizeAndSubmitTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n      self.publishTransaction.bind(self),\n    ], function(err, txHash){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, txHash)\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.finalizeTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n    ], function(err, signedTx){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, {raw: signedTx, tx: txParams})\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.publishTransaction = function(rawTx, cb) {\n  const self = this\n  self.emitPayload({\n    method: 'eth_sendRawTransaction',\n    params: [rawTx],\n  }, function(err, res){\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.estimateGas = function(txParams, cb) {\n  const self = this\n  estimateGas(self.engine, txParams, cb)\n}\n\nHookedWalletSubprovider.prototype.getGasPrice = function(cb) {\n  const self = this\n  self.emitPayload({ method: 'eth_gasPrice', params: [] }, function (err, res) {\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.fillInTxExtras = function(txParams, cb){\n  const self = this\n  const address = txParams.from\n  // console.log('fillInTxExtras - address:', address)\n\n  const tasks = {}\n\n  if (txParams.gasPrice === undefined) {\n    // console.log(\"need to get gasprice\")\n    tasks.gasPrice = self.getGasPrice.bind(self)\n  }\n\n  if (txParams.nonce === undefined) {\n    // console.log(\"need to get nonce\")\n    tasks.nonce = self.emitPayload.bind(self, { method: 'eth_getTransactionCount', params: [address, 'pending'] })\n  }\n\n  if (txParams.gas === undefined) {\n    // console.log(\"need to get gas\")\n    tasks.gas = self.estimateGas.bind(self, cloneTxParams(txParams))\n  }\n\n  parallel(tasks, function(err, taskResults) {\n    if (err) return cb(err)\n\n    const result = {}\n    if (taskResults.gasPrice) result.gasPrice = taskResults.gasPrice\n    if (taskResults.nonce) result.nonce = taskResults.nonce.result\n    if (taskResults.gas) result.gas = taskResults.gas\n\n    cb(null, extend(txParams, result))\n  })\n}\n\n// util\n\n// we use this to clean any custom params from the txParams\nfunction cloneTxParams(txParams){\n  return {\n    from: txParams.from,\n    to: txParams.to,\n    value: txParams.value,\n    data: txParams.data,\n    gas: txParams.gas,\n    gasPrice: txParams.gasPrice,\n    nonce: txParams.nonce,\n  }\n}\n\nfunction toLowerCase(string){\n  return string.toLowerCase()\n}\n\nfunction resemblesAddress (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValid = ethUtil.isValidAddress(fixed)\n  return isValid\n}\n\n// Returns true if resembles hex data\n// but definitely not a valid address.\nfunction resemblesData (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValidAddress = ethUtil.isValidAddress(fixed)\n  return !isValidAddress && isValidHex(string)\n}\n\nfunction isValidHex(data) {\n  const isString = typeof data === 'string'\n  if (!isString) return false\n  const isHexPrefixed = data.slice(0,2) === '0x'\n  if (!isHexPrefixed) return false\n  const nonPrefixed = data.slice(2)\n  const isValid = nonPrefixed.match(hexRegex)\n  return isValid\n}\n\nfunction mustProvideInConstructor(methodName) {\n  return function(params, cb) {\n    cb(new Error('ProviderEngine - HookedWalletSubprovider - Must provide \"' + methodName + '\" fn in constructor options'))\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (tasks, callback) {\n    callback = (0, _once2.default)(callback || _noop2.default);\n    if (!(0, _isArray2.default)(tasks)) return callback(new Error('First argument to waterfall must be an array of functions'));\n    if (!tasks.length) return callback();\n    var taskIndex = 0;\n\n    function nextTask(args) {\n        var task = (0, _wrapAsync2.default)(tasks[taskIndex++]);\n        args.push((0, _onlyOnce2.default)(next));\n        task.apply(null, args);\n    }\n\n    function next(err /*, ...args*/) {\n        if (err || taskIndex === tasks.length) {\n            return callback.apply(null, arguments);\n        }\n        nextTask((0, _slice2.default)(arguments, 1));\n    }\n\n    nextTask([]);\n};\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _once = require('./internal/once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _slice = require('./internal/slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nvar _onlyOnce = require('./internal/onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];\n\n/**\n * Runs the `tasks` array of functions in series, each passing their results to\n * the next in the array. However, if any of the `tasks` pass an error to their\n * own callback, the next function is not executed, and the main `callback` is\n * immediately called with the error.\n *\n * @name waterfall\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array of [async functions]{@link AsyncFunction}\n * to run.\n * Each function should complete with any number of `result` values.\n * The `result` values will be passed as arguments, in order, to the next task.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This will be passed the results of the last task's\n * callback. Invoked with (err, [results]).\n * @returns undefined\n * @example\n *\n * async.waterfall([\n *     function(callback) {\n *         callback(null, 'one', 'two');\n *     },\n *     function(arg1, arg2, callback) {\n *         // arg1 now equals 'one' and arg2 now equals 'two'\n *         callback(null, 'three');\n *     },\n *     function(arg1, callback) {\n *         // arg1 now equals 'three'\n *         callback(null, 'done');\n *     }\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n *\n * // Or, with named functions:\n * async.waterfall([\n *     myFirstFunction,\n *     mySecondFunction,\n *     myLastFunction,\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n * function myFirstFunction(callback) {\n *     callback(null, 'one', 'two');\n * }\n * function mySecondFunction(arg1, arg2, callback) {\n *     // arg1 now equals 'one' and arg2 now equals 'two'\n *     callback(null, 'three');\n * }\n * function myLastFunction(arg1, callback) {\n *     // arg1 now equals 'three'\n *     callback(null, 'done');\n * }\n */","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parallelLimit;\n\nvar _eachOf = require('./eachOf');\n\nvar _eachOf2 = _interopRequireDefault(_eachOf);\n\nvar _parallel = require('./internal/parallel');\n\nvar _parallel2 = _interopRequireDefault(_parallel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Run the `tasks` collection of functions in parallel, without waiting until\n * the previous function has completed. If any of the functions pass an error to\n * its callback, the main `callback` is immediately called with the value of the\n * error. Once the `tasks` have completed, the results are passed to the final\n * `callback` as an array.\n *\n * **Note:** `parallel` is about kicking-off I/O tasks in parallel, not about\n * parallel execution of code.  If your tasks do not use any timers or perform\n * any I/O, they will actually be executed in series.  Any synchronous setup\n * sections for each task will happen one after the other.  JavaScript remains\n * single-threaded.\n *\n * **Hint:** Use [`reflect`]{@link module:Utils.reflect} to continue the\n * execution of other tasks when a task fails.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n * results from {@link async.parallel}.\n *\n * @name parallel\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n *\n * @example\n * async.parallel([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // the results array will equal ['one','two'] even though\n *     // the second function had a shorter timeout.\n * });\n *\n * // an example using an object instead of an array\n * async.parallel({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equals to: {one: 1, two: 2}\n * });\n */\nfunction parallelLimit(tasks, callback) {\n  (0, _parallel2.default)(_eachOf2.default, tasks, callback);\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _parallel;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _parallel(eachfn, tasks, callback) {\n    callback = callback || _noop2.default;\n    var results = (0, _isArrayLike2.default)(tasks) ? [] : {};\n\n    eachfn(tasks, function (task, key, callback) {\n        (0, _wrapAsync2.default)(task)(function (err, result) {\n            if (arguments.length > 2) {\n                result = (0, _slice2.default)(arguments, 1);\n            }\n            results[key] = result;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\nmodule.exports = exports['default'];","const ethUtil = require('ethereumjs-util')\nconst ethAbi = require('ethereumjs-abi')\n\nmodule.exports = {\n\n  concatSig: function (v, r, s) {\n    const rSig = ethUtil.fromSigned(r)\n    const sSig = ethUtil.fromSigned(s)\n    const vSig = ethUtil.bufferToInt(v)\n    const rStr = padWithZeroes(ethUtil.toUnsigned(rSig).toString('hex'), 64)\n    const sStr = padWithZeroes(ethUtil.toUnsigned(sSig).toString('hex'), 64)\n    const vStr = ethUtil.stripHexPrefix(ethUtil.intToHex(vSig))\n    return ethUtil.addHexPrefix(rStr.concat(sStr, vStr)).toString('hex')\n  },\n\n  normalize: function (input) {\n    if (!input) return\n\n    if (typeof input === 'number') {\n      const buffer = ethUtil.toBuffer(input)\n      input = ethUtil.bufferToHex(buffer)\n    }\n\n    if (typeof input !== 'string') {\n      var msg = 'eth-sig-util.normalize() requires hex string or integer input.'\n      msg += ' received ' + (typeof input) + ': ' + input\n      throw new Error(msg)\n    }\n\n    return ethUtil.addHexPrefix(input.toLowerCase())\n  },\n\n  personalSign: function (privateKey, msgParams) {\n    var message = ethUtil.toBuffer(msgParams.data)\n    var msgHash = ethUtil.hashPersonalMessage(message)\n    var sig = ethUtil.ecsign(msgHash, privateKey)\n    var serialized = ethUtil.bufferToHex(this.concatSig(sig.v, sig.r, sig.s))\n    return serialized\n  },\n\n  recoverPersonalSignature: function (msgParams) {\n    const publicKey = getPublicKeyFor(msgParams)\n    const sender = ethUtil.publicToAddress(publicKey)\n    const senderHex = ethUtil.bufferToHex(sender)\n    return senderHex\n  },\n\n  extractPublicKey: function (msgParams) {\n    const publicKey = getPublicKeyFor(msgParams)\n    return '0x' + publicKey.toString('hex')\n  },\n\n  typedSignatureHash: function (typedData) {\n    const hashBuffer = typedSignatureHash(typedData)\n    return ethUtil.bufferToHex(hashBuffer)\n  },\n\n  signTypedData: function (privateKey, msgParams) {\n    const msgHash = typedSignatureHash(msgParams.data)\n    const sig = ethUtil.ecsign(msgHash, privateKey)\n    return ethUtil.bufferToHex(this.concatSig(sig.v, sig.r, sig.s))\n  },\n\n  recoverTypedSignature: function (msgParams) {\n    const msgHash = typedSignatureHash(msgParams.data)\n    const publicKey = recoverPublicKey(msgHash, msgParams.sig)\n    const sender = ethUtil.publicToAddress(publicKey)\n    return ethUtil.bufferToHex(sender)\n  }\n\n}\n\n/**\n * @param typedData - Array of data along with types, as per EIP712.\n * @returns Buffer\n */\nfunction typedSignatureHash(typedData) {\n  const error = new Error('Expect argument to be non-empty array')\n  if (typeof typedData !== 'object' || !typedData.length) throw error\n\n  const data = typedData.map(function (e) {\n    return e.type === 'bytes' ? ethUtil.toBuffer(e.value) : e.value\n  })\n  const types = typedData.map(function (e) { return e.type })\n  const schema = typedData.map(function (e) {\n    if (!e.name) throw error\n    return e.type + ' ' + e.name\n  })\n\n  return ethAbi.soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      ethAbi.soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      ethAbi.soliditySHA3(types, data)\n    ]\n  )\n}\n\nfunction recoverPublicKey(hash, sig) {\n  const signature = ethUtil.toBuffer(sig)\n  const sigParams = ethUtil.fromRpcSig(signature)\n  return ethUtil.ecrecover(hash, sigParams.v, sigParams.r, sigParams.s)\n}\n\nfunction getPublicKeyFor (msgParams) {\n  const message = ethUtil.toBuffer(msgParams.data)\n  const msgHash = ethUtil.hashPersonalMessage(message)\n  return recoverPublicKey(msgHash, msgParams.sig)\n}\n\n\nfunction padWithZeroes (number, length) {\n  var myString = '' + number\n  while (myString.length < length) {\n    myString = '0' + myString\n  }\n  return myString\n}\n","const createPayload = require('./create-payload.js')\n\nmodule.exports = estimateGas\n\n/*\n\nThis is a work around for https://github.com/ethereum/go-ethereum/issues/2577\n\n*/\n\n\nfunction estimateGas(provider, txParams, cb) {\n  provider.sendAsync(createPayload({\n    method: 'eth_estimateGas',\n    params: [txParams]\n  }), function(err, res){\n    if (err) {\n      // handle simple value transfer case\n      if (err.message === 'no contract code at given address') {\n        return cb(null, '0xcf08')\n      } else {\n        return cb(err)        \n      }\n    }\n    cb(null, res.result)\n  })\n}","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createSubscriptionManager = require('eth-json-rpc-filters/subscriptionManager')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      const { events, middleware } = createSubscriptionManager({ blockTracker, provider })\n      // forward subscription events on the engine\n      events.on('notification', (data) => engine.emit('data', null, data))\n      // return the subscription install/remove middleware\n      return middleware\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createFilterMiddleware = require('eth-json-rpc-filters')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      return createFilterMiddleware({ blockTracker, provider })\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","import 'regenerator-runtime/runtime';\nimport { g as get_store_value, a as app } from './onboard-59ef9a1c.js';\nimport 'bignumber.js';\nimport 'bnc-sdk';\nimport 'bowser';\nimport Web3ProviderEngine from 'web3-provider-engine';\nimport RpcSource from 'web3-provider-engine/subproviders/rpc';\nimport HookedWalletSubprovider from 'web3-provider-engine/subproviders/hooked-wallet';\nimport SubscriptionSubprovider from 'web3-provider-engine/subproviders/subscriptions';\nimport FilterSubprovider from 'web3-provider-engine/subproviders/filters';\n\nfunction createProvider(config) {\n  var getAccounts = config.getAccounts,\n      signTransaction = config.signTransaction,\n      rpcUrl = config.rpcUrl,\n      processMessage = config.processMessage,\n      processPersonalMessage = config.processPersonalMessage,\n      signMessage = config.signMessage,\n      signPersonalMessage = config.signPersonalMessage,\n      signTypedMessage = config.signTypedMessage;\n  var pollingInterval = get_store_value(app).blockPollingInterval;\n  var idMgmt = getAccounts && new HookedWalletSubprovider({\n    getAccounts: getAccounts,\n    signTransaction: signTransaction,\n    processMessage: processMessage,\n    processPersonalMessage: processPersonalMessage,\n    signMessage: signMessage,\n    signPersonalMessage: signPersonalMessage,\n    signTypedMessage: signTypedMessage\n  });\n  var rpcSubProvider = new RpcSource({\n    rpcUrl: rpcUrl.includes('http') ? rpcUrl : \"https://\".concat(rpcUrl)\n  });\n  var provider = new Web3ProviderEngine({\n    pollingInterval: pollingInterval\n  });\n  provider.addProvider(new SubscriptionSubprovider());\n  provider.addProvider(new FilterSubprovider());\n  idMgmt && provider.addProvider(idMgmt);\n  provider.addProvider(rpcSubProvider);\n  provider.start();\n  provider.on('error', console.error);\n  return provider;\n}\n\nexport default createProvider;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isAsync = undefined;\n\nvar _asyncify = require('../asyncify');\n\nvar _asyncify2 = _interopRequireDefault(_asyncify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar supportsSymbol = typeof Symbol === 'function';\n\nfunction isAsync(fn) {\n    return supportsSymbol && fn[Symbol.toStringTag] === 'AsyncFunction';\n}\n\nfunction wrapAsync(asyncFn) {\n    return isAsync(asyncFn) ? (0, _asyncify2.default)(asyncFn) : asyncFn;\n}\n\nexports.default = wrapAsync;\nexports.isAsync = isAsync;","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = slice;\nfunction slice(arrayLike, start) {\n    start = start | 0;\n    var newLen = Math.max(arrayLike.length - start, 0);\n    var newArr = Array(newLen);\n    for (var idx = 0; idx < newLen; idx++) {\n        newArr[idx] = arrayLike[start + idx];\n    }\n    return newArr;\n}\nmodule.exports = exports[\"default\"];","const getRandomId = require('./random-id.js')\nconst extend = require('xtend')\n\nmodule.exports = createPayload\n\n\nfunction createPayload(data){\n  return extend({\n    // defaults\n    id: getRandomId(),\n    jsonrpc: '2.0',\n    params: [],\n    // user-specified\n  }, data)\n}\n","\"use strict\";\nvar window = require(\"global/window\")\nvar isFunction = require(\"is-function\")\nvar parseHeaders = require(\"parse-headers\")\nvar xtend = require(\"xtend\")\n\nmodule.exports = createXHR\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = createXHR;\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop\ncreateXHR.XDomainRequest = \"withCredentials\" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest\n\nforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function(method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n        options = initParams(uri, options, callback)\n        options.method = method.toUpperCase()\n        return _createXHR(options)\n    }\n})\n\nfunction forEachArray(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n        iterator(array[i])\n    }\n}\n\nfunction isEmpty(obj){\n    for(var i in obj){\n        if(obj.hasOwnProperty(i)) return false\n    }\n    return true\n}\n\nfunction initParams(uri, options, callback) {\n    var params = uri\n\n    if (isFunction(options)) {\n        callback = options\n        if (typeof uri === \"string\") {\n            params = {uri:uri}\n        }\n    } else {\n        params = xtend(options, {uri: uri})\n    }\n\n    params.callback = callback\n    return params\n}\n\nfunction createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback)\n    return _createXHR(options)\n}\n\nfunction _createXHR(options) {\n    if(typeof options.callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n\n    var called = false\n    var callback = function cbOnce(err, response, body){\n        if(!called){\n            called = true\n            options.callback(err, response, body)\n        }\n    }\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            setTimeout(loadFunc, 0)\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else {\n            body = xhr.responseText || getXml(xhr)\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\") )\n        }\n        evt.statusCode = 0\n        return callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        if (aborted) return\n        var status\n        clearTimeout(timeoutTimer)\n        if(options.useXDR && xhr.status===undefined) {\n            //IE8 CORS GET successful response doesn't have a status field, but body is fine\n            status = 200\n        } else {\n            status = (xhr.status === 1223 ? 204 : xhr.status)\n        }\n        var response = failureResponse\n        var err = null\n\n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        return callback(err, response, response.body)\n    }\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new createXHR.XDomainRequest()\n        }else{\n            xhr = new createXHR.XMLHttpRequest()\n        }\n    }\n\n    var key\n    var aborted\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n    var failureResponse = {\n        body: undefined,\n        headers: {},\n        statusCode: 0,\n        method: method,\n        url: uri,\n        rawRequest: xhr\n    }\n\n    if (\"json\" in options && options.json !== false) {\n        isJson = true\n        headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\") //Don't override existing accept header declared by user\n            body = JSON.stringify(options.json === true ? body : options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.onabort = function(){\n        aborted = true;\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n        xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            if (aborted) return\n            aborted = true//IE9 may still call readystatechange\n            xhr.abort(\"timeout\")\n            var e = new Error(\"XMLHttpRequest timeout\")\n            e.code = \"ETIMEDOUT\"\n            errorFunc(e)\n        }, options.timeout )\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers && !isEmpty(options.headers)) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n\n    if (\"beforeSend\" in options &&\n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n    xhr.send(body || null)\n\n    return xhr\n\n\n}\n\nfunction getXml(xhr) {\n    // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n    // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n    try {\n        if (xhr.responseType === \"document\") {\n            return xhr.responseXML\n        }\n        var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\"\n        if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n            return xhr.responseXML\n        }\n    } catch (e) {}\n\n    return null\n}\n\nfunction noop() {}\n","var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  if (!fn) {\n    return false\n  }\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n","var trim = function(string) {\n  return string.replace(/^\\s+|\\s+$/g, '');\n}\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  var headersArr = trim(headers).split('\\n')\n\n  for (var i = 0; i < headersArr.length; i++) {\n    var row = headersArr[i]\n    var index = row.indexOf(':')\n    , key = trim(row.slice(0, index)).toLowerCase()\n    , value = trim(row.slice(index + 1))\n\n    if (typeof(result[key]) === 'undefined') {\n      result[key] = value\n    } else if (isArray(result[key])) {\n      result[key].push(value)\n    } else {\n      result[key] = [ result[key], value ]\n    }\n  }\n\n  return result\n}\n","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar createKeccakHash = require('keccak');\nvar secp256k1 = require('secp256k1');\nvar assert = require('assert');\nvar rlp = require('rlp');\nvar BN = require('bn.js');\nvar createHash = require('create-hash');\nvar Buffer = require('safe-buffer').Buffer;\nObject.assign(exports, require('ethjs-util'));\n\n/**\n * the max integer that this VM can handle (a ```BN```)\n * @var {BN} MAX_INTEGER\n */\nexports.MAX_INTEGER = new BN('ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff', 16);\n\n/**\n * 2^256 (a ```BN```)\n * @var {BN} TWO_POW256\n */\nexports.TWO_POW256 = new BN('10000000000000000000000000000000000000000000000000000000000000000', 16);\n\n/**\n * Keccak-256 hash of null (a ```String```)\n * @var {String} KECCAK256_NULL_S\n */\nexports.KECCAK256_NULL_S = 'c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470';\nexports.SHA3_NULL_S = exports.KECCAK256_NULL_S;\n\n/**\n * Keccak-256 hash of null (a ```Buffer```)\n * @var {Buffer} KECCAK256_NULL\n */\nexports.KECCAK256_NULL = Buffer.from(exports.KECCAK256_NULL_S, 'hex');\nexports.SHA3_NULL = exports.KECCAK256_NULL;\n\n/**\n * Keccak-256 of an RLP of an empty array (a ```String```)\n * @var {String} KECCAK256_RLP_ARRAY_S\n */\nexports.KECCAK256_RLP_ARRAY_S = '1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347';\nexports.SHA3_RLP_ARRAY_S = exports.KECCAK256_RLP_ARRAY_S;\n\n/**\n * Keccak-256 of an RLP of an empty array (a ```Buffer```)\n * @var {Buffer} KECCAK256_RLP_ARRAY\n */\nexports.KECCAK256_RLP_ARRAY = Buffer.from(exports.KECCAK256_RLP_ARRAY_S, 'hex');\nexports.SHA3_RLP_ARRAY = exports.KECCAK256_RLP_ARRAY;\n\n/**\n * Keccak-256 hash of the RLP of null  (a ```String```)\n * @var {String} KECCAK256_RLP_S\n */\nexports.KECCAK256_RLP_S = '56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421';\nexports.SHA3_RLP_S = exports.KECCAK256_RLP_S;\n\n/**\n * Keccak-256 hash of the RLP of null (a ```Buffer```)\n * @var {Buffer} KECCAK256_RLP\n */\nexports.KECCAK256_RLP = Buffer.from(exports.KECCAK256_RLP_S, 'hex');\nexports.SHA3_RLP = exports.KECCAK256_RLP;\n\n/**\n * [`BN`](https://github.com/indutny/bn.js)\n * @var {Function}\n */\nexports.BN = BN;\n\n/**\n * [`rlp`](https://github.com/ethereumjs/rlp)\n * @var {Function}\n */\nexports.rlp = rlp;\n\n/**\n * [`secp256k1`](https://github.com/cryptocoinjs/secp256k1-node/)\n * @var {Object}\n */\nexports.secp256k1 = secp256k1;\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nexports.zeros = function (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0);\n};\n\n/**\n  * Returns a zero address\n  * @method zeroAddress\n  * @return {String}\n  */\nexports.zeroAddress = function () {\n  var addressLength = 20;\n  var zeroAddress = exports.zeros(addressLength);\n  return exports.bufferToHex(zeroAddress);\n};\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method lsetLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nexports.setLengthLeft = exports.setLength = function (msg, length, right) {\n  var buf = exports.zeros(length);\n  msg = exports.toBuffer(msg);\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf);\n      return buf;\n    }\n    return msg.slice(0, length);\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length);\n      return buf;\n    }\n    return msg.slice(-length);\n  }\n};\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nexports.setLengthRight = function (msg, length) {\n  return exports.setLength(msg, length, true);\n};\n\n/**\n * Trims leading zeros from a `Buffer` or an `Array`\n * @param {Buffer|Array|String} a\n * @return {Buffer|Array|String}\n */\nexports.unpad = exports.stripZeros = function (a) {\n  a = exports.stripHexPrefix(a);\n  var first = a[0];\n  while (a.length > 0 && first.toString() === '0') {\n    a = a.slice(1);\n    first = a[0];\n  }\n  return a;\n};\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nexports.toBuffer = function (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v);\n    } else if (typeof v === 'string') {\n      if (exports.isHexString(v)) {\n        v = Buffer.from(exports.padToEven(exports.stripHexPrefix(v)), 'hex');\n      } else {\n        v = Buffer.from(v);\n      }\n    } else if (typeof v === 'number') {\n      v = exports.intToBuffer(v);\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0);\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer);\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray());\n    } else {\n      throw new Error('invalid type');\n    }\n  }\n  return v;\n};\n\n/**\n * Converts a `Buffer` to a `Number`\n * @param {Buffer} buf\n * @return {Number}\n * @throws If the input number exceeds 53 bits.\n */\nexports.bufferToInt = function (buf) {\n  return new BN(exports.toBuffer(buf)).toNumber();\n};\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nexports.bufferToHex = function (buf) {\n  buf = exports.toBuffer(buf);\n  return '0x' + buf.toString('hex');\n};\n\n/**\n * Interprets a `Buffer` as a signed integer and returns a `BN`. Assumes 256-bit numbers.\n * @param {Buffer} num\n * @return {BN}\n */\nexports.fromSigned = function (num) {\n  return new BN(num).fromTwos(256);\n};\n\n/**\n * Converts a `BN` to an unsigned integer and returns it as a `Buffer`. Assumes 256-bit numbers.\n * @param {BN} num\n * @return {Buffer}\n */\nexports.toUnsigned = function (num) {\n  return Buffer.from(num.toTwos(256).toArray());\n};\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nexports.keccak = function (a, bits) {\n  a = exports.toBuffer(a);\n  if (!bits) bits = 256;\n\n  return createKeccakHash('keccak' + bits).update(a).digest();\n};\n\n/**\n * Creates Keccak-256 hash of the input, alias for keccak(a, 256)\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.keccak256 = function (a) {\n  return exports.keccak(a);\n};\n\n/**\n * Creates SHA-3 (Keccak) hash of the input [OBSOLETE]\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the SHA-3 width\n * @return {Buffer}\n */\nexports.sha3 = exports.keccak;\n\n/**\n * Creates SHA256 hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.sha256 = function (a) {\n  a = exports.toBuffer(a);\n  return createHash('sha256').update(a).digest();\n};\n\n/**\n * Creates RIPEMD160 hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Boolean} padded whether it should be padded to 256 bits or not\n * @return {Buffer}\n */\nexports.ripemd160 = function (a, padded) {\n  a = exports.toBuffer(a);\n  var hash = createHash('rmd160').update(a).digest();\n  if (padded === true) {\n    return exports.setLength(hash, 32);\n  } else {\n    return hash;\n  }\n};\n\n/**\n * Creates SHA-3 hash of the RLP encoded version of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.rlphash = function (a) {\n  return exports.keccak(rlp.encode(a));\n};\n\n/**\n * Checks if the private key satisfies the rules of the curve secp256k1.\n * @param {Buffer} privateKey\n * @return {Boolean}\n */\nexports.isValidPrivate = function (privateKey) {\n  return secp256k1.privateKeyVerify(privateKey);\n};\n\n/**\n * Checks if the public key satisfies the rules of the curve secp256k1\n * and the requirements of Ethereum.\n * @param {Buffer} publicKey The two points of an uncompressed key, unless sanitize is enabled\n * @param {Boolean} [sanitize=false] Accept public keys in other formats\n * @return {Boolean}\n */\nexports.isValidPublic = function (publicKey, sanitize) {\n  if (publicKey.length === 64) {\n    // Convert to SEC1 for secp256k1\n    return secp256k1.publicKeyVerify(Buffer.concat([Buffer.from([4]), publicKey]));\n  }\n\n  if (!sanitize) {\n    return false;\n  }\n\n  return secp256k1.publicKeyVerify(publicKey);\n};\n\n/**\n * Returns the ethereum address of a given public key.\n * Accepts \"Ethereum public keys\" and SEC1 encoded keys.\n * @param {Buffer} pubKey The two points of an uncompressed key, unless sanitize is enabled\n * @param {Boolean} [sanitize=false] Accept public keys in other formats\n * @return {Buffer}\n */\nexports.pubToAddress = exports.publicToAddress = function (pubKey, sanitize) {\n  pubKey = exports.toBuffer(pubKey);\n  if (sanitize && pubKey.length !== 64) {\n    pubKey = secp256k1.publicKeyConvert(pubKey, false).slice(1);\n  }\n  assert(pubKey.length === 64);\n  // Only take the lower 160bits of the hash\n  return exports.keccak(pubKey).slice(-20);\n};\n\n/**\n * Returns the ethereum public key of a given private key\n * @param {Buffer} privateKey A private key must be 256 bits wide\n * @return {Buffer}\n */\nvar privateToPublic = exports.privateToPublic = function (privateKey) {\n  privateKey = exports.toBuffer(privateKey);\n  // skip the type flag and use the X, Y points\n  return secp256k1.publicKeyCreate(privateKey, false).slice(1);\n};\n\n/**\n * Converts a public key to the Ethereum format.\n * @param {Buffer} publicKey\n * @return {Buffer}\n */\nexports.importPublic = function (publicKey) {\n  publicKey = exports.toBuffer(publicKey);\n  if (publicKey.length !== 64) {\n    publicKey = secp256k1.publicKeyConvert(publicKey, false).slice(1);\n  }\n  return publicKey;\n};\n\n/**\n * ECDSA sign\n * @param {Buffer} msgHash\n * @param {Buffer} privateKey\n * @return {Object}\n */\nexports.ecsign = function (msgHash, privateKey) {\n  var sig = secp256k1.sign(msgHash, privateKey);\n\n  var ret = {};\n  ret.r = sig.signature.slice(0, 32);\n  ret.s = sig.signature.slice(32, 64);\n  ret.v = sig.recovery + 27;\n  return ret;\n};\n\n/**\n * Returns the keccak-256 hash of `message`, prefixed with the header used by the `eth_sign` RPC call.\n * The output of this function can be fed into `ecsign` to produce the same signature as the `eth_sign`\n * call for a given `message`, or fed to `ecrecover` along with a signature to recover the public key\n * used to produce the signature.\n * @param message\n * @returns {Buffer} hash\n */\nexports.hashPersonalMessage = function (message) {\n  var prefix = exports.toBuffer('\\x19Ethereum Signed Message:\\n' + message.length.toString());\n  return exports.keccak(Buffer.concat([prefix, message]));\n};\n\n/**\n * ECDSA public key recovery from signature\n * @param {Buffer} msgHash\n * @param {Number} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @return {Buffer} publicKey\n */\nexports.ecrecover = function (msgHash, v, r, s) {\n  var signature = Buffer.concat([exports.setLength(r, 32), exports.setLength(s, 32)], 64);\n  var recovery = v - 27;\n  if (recovery !== 0 && recovery !== 1) {\n    throw new Error('Invalid signature v value');\n  }\n  var senderPubKey = secp256k1.recover(msgHash, signature, recovery);\n  return secp256k1.publicKeyConvert(senderPubKey, false).slice(1);\n};\n\n/**\n * Convert signature parameters into the format of `eth_sign` RPC method\n * @param {Number} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @return {String} sig\n */\nexports.toRpcSig = function (v, r, s) {\n  // NOTE: with potential introduction of chainId this might need to be updated\n  if (v !== 27 && v !== 28) {\n    throw new Error('Invalid recovery id');\n  }\n\n  // geth (and the RPC eth_sign method) uses the 65 byte format used by Bitcoin\n  // FIXME: this might change in the future - https://github.com/ethereum/go-ethereum/issues/2053\n  return exports.bufferToHex(Buffer.concat([exports.setLengthLeft(r, 32), exports.setLengthLeft(s, 32), exports.toBuffer(v - 27)]));\n};\n\n/**\n * Convert signature format of the `eth_sign` RPC method to signature parameters\n * NOTE: all because of a bug in geth: https://github.com/ethereum/go-ethereum/issues/2053\n * @param {String} sig\n * @return {Object}\n */\nexports.fromRpcSig = function (sig) {\n  sig = exports.toBuffer(sig);\n\n  // NOTE: with potential introduction of chainId this might need to be updated\n  if (sig.length !== 65) {\n    throw new Error('Invalid signature length');\n  }\n\n  var v = sig[64];\n  // support both versions of `eth_sign` responses\n  if (v < 27) {\n    v += 27;\n  }\n\n  return {\n    v: v,\n    r: sig.slice(0, 32),\n    s: sig.slice(32, 64)\n  };\n};\n\n/**\n * Returns the ethereum address of a given private key\n * @param {Buffer} privateKey A private key must be 256 bits wide\n * @return {Buffer}\n */\nexports.privateToAddress = function (privateKey) {\n  return exports.publicToAddress(privateToPublic(privateKey));\n};\n\n/**\n * Checks if the address is a valid. Accepts checksummed addresses too\n * @param {String} address\n * @return {Boolean}\n */\nexports.isValidAddress = function (address) {\n  return (/^0x[0-9a-fA-F]{40}$/.test(address)\n  );\n};\n\n/**\n  * Checks if a given address is a zero address\n  * @method isZeroAddress\n  * @param {String} address\n  * @return {Boolean}\n  */\nexports.isZeroAddress = function (address) {\n  var zeroAddress = exports.zeroAddress();\n  return zeroAddress === exports.addHexPrefix(address);\n};\n\n/**\n * Returns a checksummed address\n * @param {String} address\n * @return {String}\n */\nexports.toChecksumAddress = function (address) {\n  address = exports.stripHexPrefix(address).toLowerCase();\n  var hash = exports.keccak(address).toString('hex');\n  var ret = '0x';\n\n  for (var i = 0; i < address.length; i++) {\n    if (parseInt(hash[i], 16) >= 8) {\n      ret += address[i].toUpperCase();\n    } else {\n      ret += address[i];\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Checks if the address is a valid checksummed address\n * @param {Buffer} address\n * @return {Boolean}\n */\nexports.isValidChecksumAddress = function (address) {\n  return exports.isValidAddress(address) && exports.toChecksumAddress(address) === address;\n};\n\n/**\n * Generates an address of a newly created contract\n * @param {Buffer} from the address which is creating this new address\n * @param {Buffer} nonce the nonce of the from account\n * @return {Buffer}\n */\nexports.generateAddress = function (from, nonce) {\n  from = exports.toBuffer(from);\n  nonce = new BN(nonce);\n\n  if (nonce.isZero()) {\n    // in RLP we want to encode null in the case of zero nonce\n    // read the RLP documentation for an answer if you dare\n    nonce = null;\n  } else {\n    nonce = Buffer.from(nonce.toArray());\n  }\n\n  // Only take the lower 160bits of the hash\n  return exports.rlphash([from, nonce]).slice(-20);\n};\n\n/**\n * Returns true if the supplied address belongs to a precompiled account (Byzantium)\n * @param {Buffer|String} address\n * @return {Boolean}\n */\nexports.isPrecompiled = function (address) {\n  var a = exports.unpad(address);\n  return a.length === 1 && a[0] >= 1 && a[0] <= 8;\n};\n\n/**\n * Adds \"0x\" to a given `String` if it does not already start with \"0x\"\n * @param {String} str\n * @return {String}\n */\nexports.addHexPrefix = function (str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n\n  return exports.isHexPrefixed(str) ? str : '0x' + str;\n};\n\n/**\n * Validate ECDSA signature\n * @method isValidSignature\n * @param {Buffer} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @param {Boolean} [homestead=true]\n * @return {Boolean}\n */\n\nexports.isValidSignature = function (v, r, s, homestead) {\n  var SECP256K1_N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n  var SECP256K1_N = new BN('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141', 16);\n\n  if (r.length !== 32 || s.length !== 32) {\n    return false;\n  }\n\n  if (v !== 27 && v !== 28) {\n    return false;\n  }\n\n  r = new BN(r);\n  s = new BN(s);\n\n  if (r.isZero() || r.gt(SECP256K1_N) || s.isZero() || s.gt(SECP256K1_N)) {\n    return false;\n  }\n\n  if (homestead === false && new BN(s).cmp(SECP256K1_N_DIV_2) === 1) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Converts a `Buffer` or `Array` to JSON\n * @param {Buffer|Array} ba\n * @return {Array|String|null}\n */\nexports.baToJSON = function (ba) {\n  if (Buffer.isBuffer(ba)) {\n    return '0x' + ba.toString('hex');\n  } else if (ba instanceof Array) {\n    var array = [];\n    for (var i = 0; i < ba.length; i++) {\n      array.push(exports.baToJSON(ba[i]));\n    }\n    return array;\n  }\n};\n\n/**\n * Defines properties on a `Object`. It make the assumption that underlying data is binary.\n * @param {Object} self the `Object` to define properties on\n * @param {Array} fields an array fields to define. Fields can contain:\n * * `name` - the name of the properties\n * * `length` - the number of bytes the field can have\n * * `allowLess` - if the field can be less than the length\n * * `allowEmpty`\n * @param {*} data data to be validated against the definitions\n */\nexports.defineProperties = function (self, fields, data) {\n  self.raw = [];\n  self._fields = [];\n\n  // attach the `toJSON`\n  self.toJSON = function (label) {\n    if (label) {\n      var obj = {};\n      self._fields.forEach(function (field) {\n        obj[field] = '0x' + self[field].toString('hex');\n      });\n      return obj;\n    }\n    return exports.baToJSON(this.raw);\n  };\n\n  self.serialize = function serialize() {\n    return rlp.encode(self.raw);\n  };\n\n  fields.forEach(function (field, i) {\n    self._fields.push(field.name);\n    function getter() {\n      return self.raw[i];\n    }\n    function setter(v) {\n      v = exports.toBuffer(v);\n\n      if (v.toString('hex') === '00' && !field.allowZero) {\n        v = Buffer.allocUnsafe(0);\n      }\n\n      if (field.allowLess && field.length) {\n        v = exports.stripZeros(v);\n        assert(field.length >= v.length, 'The field ' + field.name + ' must not have more ' + field.length + ' bytes');\n      } else if (!(field.allowZero && v.length === 0) && field.length) {\n        assert(field.length === v.length, 'The field ' + field.name + ' must have byte length of ' + field.length);\n      }\n\n      self.raw[i] = v;\n    }\n\n    Object.defineProperty(self, field.name, {\n      enumerable: true,\n      configurable: true,\n      get: getter,\n      set: setter\n    });\n\n    if (field.default) {\n      self[field.name] = field.default;\n    }\n\n    // attach alias\n    if (field.alias) {\n      Object.defineProperty(self, field.alias, {\n        enumerable: false,\n        configurable: true,\n        set: setter,\n        get: getter\n      });\n    }\n  });\n\n  // if the constuctor is passed data\n  if (data) {\n    if (typeof data === 'string') {\n      data = Buffer.from(exports.stripHexPrefix(data), 'hex');\n    }\n\n    if (Buffer.isBuffer(data)) {\n      data = rlp.decode(data);\n    }\n\n    if (Array.isArray(data)) {\n      if (data.length > self._fields.length) {\n        throw new Error('wrong number of fields in data');\n      }\n\n      // make sure all the items are buffers\n      data.forEach(function (d, i) {\n        self[self._fields[i]] = exports.toBuffer(d);\n      });\n    } else if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n      var keys = Object.keys(data);\n      fields.forEach(function (field) {\n        if (keys.indexOf(field.name) !== -1) self[field.name] = data[field.name];\n        if (keys.indexOf(field.alias) !== -1) self[field.alias] = data[field.alias];\n      });\n    } else {\n      throw new Error('invalid data');\n    }\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = once;\nfunction once(fn) {\n    return function () {\n        if (fn === null) return;\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = onlyOnce;\nfunction onlyOnce(fn) {\n    return function () {\n        if (fn === null) throw new Error(\"Callback was already called.\");\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\nmodule.exports = exports[\"default\"];","const createPayload = require('../util/create-payload.js')\n\nmodule.exports = SubProvider\n\n// this is the base class for a subprovider -- mostly helpers\n\n\nfunction SubProvider() {\n\n}\n\nSubProvider.prototype.setEngine = function(engine) {\n  const self = this\n  if (self.engine) return\n  self.engine = engine\n  engine.on('block', function(block) {\n    self.currentBlock = block\n  })\n\n  engine.on('start', function () {\n    self.start()\n  })\n\n  engine.on('stop', function () {\n    self.stop()\n  })\n}\n\nSubProvider.prototype.handleRequest = function(payload, next, end) {\n  throw new Error('Subproviders should override `handleRequest`.')\n}\n\nSubProvider.prototype.emitPayload = function(payload, cb){\n  const self = this\n  self.engine.sendAsync(createPayload(payload), cb)\n}\n\n// dummies for overriding\n\nSubProvider.prototype.stop = function () {}\n\nSubProvider.prototype.start = function () {}\n","\nconst safeStringify = require('fast-safe-stringify')\n\n/**\n * @class JsonRpcError\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors\n * per EIP 1474.\n * Permits any integer error code.\n */\nclass EthereumRpcError extends Error {\n\n  /**\n   * Create an Ethereum JSON RPC error.\n   * \n   * @param {number} code - The integer error code.\n   * @param {string} message - The string message.\n   * @param {any} [data] - The error data.\n   */\n  constructor (code, message, data) {\n\n    if (!Number.isInteger(code)) throw new Error(\n      '\"code\" must be an integer.'\n    )\n    if (!message || typeof message !== 'string') throw new Error(\n      '\"message\" must be a nonempty string.'\n    )\n\n    super(message)\n    this.code = code\n    if (data !== undefined) this.data = data\n  }\n\n  /**\n   * Returns a plain object with all public class properties.\n   * \n   * @returns {object} The serialized error. \n   */\n  serialize() {\n    const serialized = {\n      code: this.code,\n      message: this.message,\n    }\n    if (this.data !== undefined) serialized.data = this.data\n    if (this.stack) serialized.stack = this.stack\n    return serialized\n  }\n\n  /**\n   * Return a string representation of the serialized error, omitting\n   * any circular references.\n   * \n   * @returns {string} The serialized error as a string.\n   */\n  toString() {\n    return safeStringify(\n      this.serialize(),\n      stringifyReplacer,\n      2\n    )\n  }\n}\n\n/**\n * @class EthereumRpcError\n * Error subclass implementing Ethereum Provider errors per EIP 1193.\n * Permits integer error codes in the [ 1000 <= 4999 ] range.\n */\nclass EthereumProviderError extends EthereumRpcError {\n\n  /**\n   * Create an Ethereum JSON RPC error.\n   * \n   * @param {number} code - The integer error code, in the [ 1000 <= 4999 ] range.\n   * @param {string} message - The string message.\n   * @param {any} [data] - The error data.\n   */\n  constructor(code, message, data) {\n\n    if (!isValidEthProviderCode(code)) {\n      throw new Error(\n        '\"code\" must be an integer such that: 1000 <= code <= 4999'\n      )\n    }\n\n    super(code, message, data)\n  }\n}\n\n// Internal\n\nfunction isValidEthProviderCode(code) {\n  return Number.isInteger(code) && code >= 1000 && code <= 4999\n}\n\nfunction stringifyReplacer(_, value) {\n  if (value === '[Circular]') {\n    return\n  }\n  return value\n}\n\n// Exports\n\nmodule.exports =  {\n  EthereumRpcError,\n  EthereumProviderError\n}\n"],"sourceRoot":""}